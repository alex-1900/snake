!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){var o=n(1),i=n(2);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var r={insert:"head",singleton:!1},a=(o(i,r),i.locals?i.locals:{});t.exports=a},function(t,e,n){"use strict";var o,i=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},o=[],i=0;i<t.length;i++){var r=t[i],c=e.base?r[0]+e.base:r[0],h=n[c]||0,p="".concat(c," ").concat(h);n[c]=h+1;var u=s(p),l={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(a[u].references++,a[u].updater(l)):a.push({identifier:p,updater:m(l,e),references:1}),o.push(p)}return o}function h(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var p,u=(p=[],function(t,e){return p[t]=e,p.filter(Boolean).join("\n")});function l(t,e,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function f(t,e,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var d=null,v=0;function m(t,e){var n,o,i;if(e.singleton){var r=v++;n=d||(d=h(e)),o=l.bind(null,n,r,!1),i=l.bind(null,n,r,!0)}else n=h(e),o=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var i=s(n[o]);a[i].references--}for(var r=c(t,e),h=0;h<n.length;h++){var p=s(n[h]);0===a[p].references&&(a[p].updater(),a.splice(p,1))}n=r}}}},function(t,e,n){(e=n(3)(!1)).push([t.i,"*{margin:0;padding:0;box-sizing:border-box}.overflow-hidden{overflow-x:hidden;overflow-y:hidden}.float-left{float:left}.float-right{float:right}.select-none{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.position-bottom{position:absolute;left:0;bottom:0}.coincide{position:absolute;top:0;left:0}body{width:100vw;height:100vh}body .text-center{text-align:center}body .landscape{width:100vw;height:100vh}body .controller{width:100vmax;height:40vmin}body .rocker-wrapper{width:100px;height:100px;margin-left:2rem;border-radius:100%;background:rgba(153,153,153,0.4)}body .rocker-wrapper .rocker{position:relative;top:25px;left:25px;width:50px;height:50px;border-radius:100%;background:#999}body .speed-up-wrap{width:100px;height:100px;margin-right:2rem}body .speed-up-wrap .speed-up{position:relative;top:25px;left:25px;width:70px;height:70px;border-radius:100%;background:rgba(240,107,107,0.7)}body .welcome{color:#666}body .welcome h1{padding:2rem}body .welcome button.start-game{position:relative;top:0;left:50%;margin-left:-50px;margin-top:3rem;width:100px;height:40px;border:1px dashed #888;color:#555}body .welcome .version-text{font-size:.8rem;padding:.3rem}@media screen and (orientation: portrait){body .landscape{width:100vmax;height:100vmin;transform-origin:top left;transform:rotate(90deg) translate(0, -100vmin)}body .turn{transform-origin:top left;transform:rotate(90deg) translate(0, -100vmin)}}\n",""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=(a=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),r=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(r).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);o&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){"use strict";n.r(e);n(0);var o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o},i=function(){function t(t,e){for(var n in void 0===t&&(t={}),void 0===e&&(e={}),this.entries=t,this.definitions={},this.entries.container=this,e)this.define(n,e[n])}return t.prototype.get=function(t){var e=this.entries[t];if(e)return e;var n=this.definitions[t];if(n)return this.entries[t]=n.apply(this),this.entries[t];throw new Error("There is no entry named "+t)},t.prototype.set=function(t,e){this.entries[t]=e},t.prototype.has=function(t){return Boolean(void 0===this.entries[t]&&void 0===this.definitions[t])},t.prototype.make=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this.definitions[t];if(o)return o.apply(this,e);throw new Error("There is no entry named "+t)},t.prototype.define=function(t,e){this.definitions[t]=e.bind(this)},t.prototype.invoke=function(t,e){for(var n=[],o=0,i=e;o<i.length;o++){var r=i[o];n.push(this.get(r))}return t.apply(n)},t.prototype.instance=function(t,e){void 0===e&&(e=[]);for(var n=[],i=0,r=e;i<r.length;i++){var a=r[i];n.push(this.get(a))}return new(t.bind.apply(t,o([void 0],n)))},t}();var r,a=function(){function t(){this.observers=new Set}return t.prototype.register=function(t){this.observers.add(t)},t.prototype.remove=function(t){t.terminate&&t.terminate(),this.observers.delete(t)},t.prototype.notify=function(t){this.observers.forEach((function(e){e.update(t),e.render&&e.needRepaint()&&(e.render(),e.repaint(!1))}))},t.prototype.terminate=function(){this.observers.forEach((function(t){t.terminate&&t.terminate()})),this.observers.clear()},t}(),s=function(){function t(t){this.subject=t,this.isRunning=!1,this.animationFrameId=0,this.process=this.process.bind(this)}return t.prototype.start=function(){this.isRunning||(this.isRunning=!0,requestAnimationFrame(this.process))},t.prototype.pause=function(){this.isRunning=!1,cancelAnimationFrame(this.animationFrameId)},t.prototype.stop=function(){this.isRunning=!1,this.subject.terminate(),cancelAnimationFrame(this.animationFrameId),this.stopHandle&&this.stopHandle.apply(this,this)},t.prototype.onStop=function(t){this.stopHandle=t},t.prototype.process=function(t){this.isRunning&&(this.subject.notify(t),this.animationFrameId=requestAnimationFrame(this.process))},t}(),c=2*Math.PI,h=Math.PI/180,p=function(){function t(t){this.canvas=t,this.context=t.getContext("2d")}return t.prototype.getContext=function(){return this.context},t.prototype.snakeHead=function(t,e,n,o){this.renderOuter(t,e,n,o);var i=this.context,r=n/2.3,a=n/1.8,s=n/1.8;i.save(),i.strokeStyle=o,i.fillStyle="white",i.beginPath(),i.arc(t+s,e-a,r,0,c),i.closePath(),i.fill(),i.stroke(),i.beginPath(),i.arc(t+s,e+a,r,0,c),i.closePath(),i.fill(),i.stroke(),i.fillStyle="black",i.beginPath(),i.arc(t+s,e-a,r/2,0,c),i.closePath(),i.fill(),i.beginPath(),i.arc(t+s,e+a,r/2,0,c),i.closePath(),i.fill();var h=r/3,p=t+s+h,u=e-a-h;i.fillStyle="white",i.beginPath(),i.arc(p,u,h,0,c),i.closePath(),i.fill(),u=e+a-h,i.beginPath(),i.arc(p,u,h,0,c),i.closePath(),i.fill(),i.restore()},t.prototype.snakeSection=function(t,e,n,o,i){var r=this.context;this.renderOuter(t,e,n,o),r.save(),r.fillStyle=i,r.beginPath(),r.arc(t,e,n/2,0,c),r.closePath(),r.fill(),r.restore()},t.prototype.food=function(t,e,n){var o=this.context;o.save(),o.fillStyle=n,o.beginPath(),o.arc(t,e,4,0,c),o.closePath(),o.fill(),o.restore()},t.prototype.mapBackground=function(t,e){var n=e/t,o=e/t,i=Math.max(n,o),r=this.context;r.beginPath(),r.lineWidth=.1,r.fillStyle="#aaa";for(var a=0;a<i;a++)a<n&&(r.moveTo(a*t,0),r.lineTo(a*t,e)),a<o&&(r.moveTo(0,a*t),r.lineTo(e,a*t));r.closePath(),r.stroke()},t.prototype.renderOuter=function(t,e,n,o){var i=this.context;i.save(),i.fillStyle=o,i.beginPath(),i.arc(t,e,n,0,c),i.closePath(),i.fill(),i.restore()},t.prototype.clearRect=function(t,e,n,o){this.context.clearRect(t,e,n,o)},t}(),u=function(){function t(t){this.element=t}return t.prototype.getElement=function(){return this.element},t.prototype.push=function(t){void 0===t&&(t=!1);var e=document.createElement("canvas"),n=g.get("interfaceSize"),o=n[0],i=n[1];return e.width=o,e.height=i,e.setAttribute("class","coincide"),t||this.element.appendChild(e),e},t}();!function(t){t[t.Yellow=0]="Yellow"}(r||(r={}));var l,f=function(){function t(){this.snakeHeads={},this.snakeSections={},this.snakeHeads[r.Yellow]=this.snakeHeadToCanvas("#F08080",80),this.snakeSections[r.Yellow]=this.snakeSectionToCanvas("#F08080","#CD5C5C",80)}return t.prototype.getSnakeHead=function(t){return this.snakeHeads[t]},t.prototype.getSnakeSection=function(t){return this.snakeSections[t]},t.prototype.getMap=function(t,e){void 0===e&&(e=!0);var n=this.makeCanvas(5e3,5e3);e&&g.make("Graphical",n).mapBackground(20,t);return n},t.prototype.snakeHeadToCanvas=function(t,e){var n=this.makeCanvas(e,e);return g.make("Graphical",n).snakeHead(e/2,e/2,e/2,t),n},t.prototype.snakeSectionToCanvas=function(t,e,n){var o=this.makeCanvas(80,80);return g.make("Graphical",o).snakeSection(n/2,n/2,n/2,t,e),o},t.prototype.makeCanvas=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n},t}(),d=document.getElementById("app"),v=document.body,m=function(t,e){var n=Math.max(t,e),o=Math.min(t,e),i=9*n/16;return i>o?[16*o/9,o]:[n,i]}(v.clientWidth,v.clientHeight),y=new a,g=new i({action:new s(y),subject:y,interfaceSize:m},{Graphical:function(t){return new p(t)},Layer:function(){return new u(d)},Material:function(){return new f}}),b=function(){return(b=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},S=function(){function t(){this.states={},this.history={},this.repaintState=!1,this.timeMap=new Map}return t.prototype.setStates=function(t){this.repaint(!0),this.states=b(b({},this.states),t)},t.prototype.getStates=function(){return this.states},t.prototype.getHistory=function(){return this.history},t.prototype.needRepaint=function(){return this.repaintState},t.prototype.repaint=function(t){this.repaintState=t,t&&(this.history=this.states)},t.prototype.isOvertime=function(t,e){return this.timeMap.has(e)||this.timeMap.set(e,0),e<=t-this.timeMap.get(e)&&(this.timeMap.set(e,t),!0)},t}(),x=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(t){function e(n){var o=t.call(this)||this;o.food=n,o.layer=g.get("Layer"),o.canvas=o.layer.push();var i=g.make("Graphical",o.canvas),r=g.get("Material");return o.mapCanvas=r.getMap(e.mapSize),o.context=i.getContext(),o.interfaceSize=g.get("interfaceSize"),o.setStates({x:0,y:0}),o}return x(e,t),e.prototype.update=function(t){},e.prototype.render=function(){var t=this.interfaceSize,e=t[0],n=t[1],o=this.getStates(),i=o.x,r=o.y;this.context.clearRect(0,0,e,n),this.context.drawImage(this.mapCanvas,i,r,e,n,0,0,e,n)},e.prototype.updateMaxPosition=function(t,e){this.setStates({x:t,y:e}),this.food.setStates({x:t,y:e})},e.prototype.terminate=function(){this.layer.getElement().removeChild(this.canvas)},e.mapSize=1200,e}(S),k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),M=function(t){function e(e,n){var o=t.call(this)||this;o.publicMap=e,o.food=n,o.sections=[],o.positions=[],o.offLayer=g.get("Layer"),o.offCanvas=o.offLayer.push(!0),o.offscreenContext=o.offCanvas.getContext("2d"),o.layer=g.get("Layer"),o.canvas=o.layer.push();var i=g.make("Graphical",o.canvas),a=g.get("Material");o.context=i.getContext();var s=a.getSnakeHead(r.Yellow);return o._head=s,o.head=a.makeCanvas(80,80),o.headContext=o.head.getContext("2d"),o.headContext.translate(40,40),o.headContext.drawImage(s,-40,-40),o.section=a.getSnakeSection(r.Yellow),o.setStates({interfaceSize:g.get("interfaceSize"),x:500,y:600,size:30,speed:2,angle:0,toAngle:0,sectionEnd:!1,mapX:0,mapY:0,scores:0}),o.addSection(),o.addSection(),o.addSection(),o.addSection(),o.addSection(),o.addSection(),o}return k(e,t),e.prototype.rotateHead=function(){var t=this.getStates().angle;this.headContext.save(),this.headContext.clearRect(-45,-45,95,95),this.headContext.rotate(t*h),this.headContext.drawImage(this._head,-40,-40),this.headContext.restore()},e.prototype.update=function(t){if(this.isOvertime(t,16)){var e=this.getStates(),n=e.x,o=e.y,i=e.speed,r=e.angle,a=e.toAngle,s=(e.sectionEnd,e.size),c=e.scores,p=e.interfaceSize,u=p[0],l=p[1];r!==a&&(this.eachAngle(),this.rotateHead());var f={},d=i*Math.cos(r*h)+n,v=i*Math.sin(r*h)+o,m=d-u/2+s/2,y=v-l/2+s/2;this.publicMap.updateMaxPosition(m,y),f={x:d,y:v,mapX:m,mapY:y},this.positions.push([d,v]);var b=w.mapSize-s;if(d<=0||v<=0||d>=b||v>=b)g.get("action").stop();var S=this.food.onPositionChange(d,v,s);S&&(c>=5?(f.scores=c-5+S,this.addSection()):f.scores=c+S),this.setStates(f)}},e.prototype.render=function(){var t=this.getStates(),e=t.size,n=t.x,o=t.y,i=t.mapX,r=t.mapY,a=t.sectionEnd,s=t.interfaceSize,c=s[0],h=s[1],p=this.getHistory(),u=p.size,l=p.x,f=p.y,d=this.offscreenContext,v=this.context;a&&this.positions.shift(),this.clearSections(),d.clearRect(l-i-10,f-r-10,u+20,u+20),this.renderSections(),d.drawImage(this.head,0,0,80,80,n-i,o-r,e,e),v.clearRect(0,0,c,h),v.drawImage(this.offCanvas,0,0)},e.prototype.clearSections=function(){for(var t=this.getHistory().size,e=this.offscreenContext,n=0,o=this.sections;n<o.length;n++){var i=o[n];e.clearRect(i.lastX-10,i.lastY-10,t+20,t+20)}},e.prototype.renderSections=function(){for(var t=this.getStates(),e=t.size,n=t.mapX,o=t.mapY,i=(t.sectionEnd,this.offscreenContext),r=[],a=0,s=this.sections;a<s.length;a++){var c=s[a];if(0!==c.waitTime){c.waitTime--;break}var h=this.positions[c.position];if(h){var p=h[0],u=h[1];r.unshift([p,u]),c.isLast&&this.setStates({sectionEnd:!0}),this.getStates().sectionEnd||c.position++,c.lastX=p-n,c.lastY=u-o}}for(var l=0,f=r;l<f.length;l++){var d=f[l];p=d[0],u=d[1];i.drawImage(this.section,0,0,80,80,p-n,u-o,e,e)}},e.prototype.addSection=function(){var t=this.getStates(),n=t.x,o=t.y,i=t.speed,r=e.WAIT_TIME/i,a=this.sections[this.sections.length-1],s=n,c=o;a&&(a.isLast=!1,s=a.lastX,c=a.lastY),this.sections.push({isLast:!0,lastX:s,lastY:c,waitTime:r,position:0}),this.setStates({sectionEnd:!1})},e.prototype.onAngleChange=function(t){this.setStates({toAngle:t})},e.prototype.eachAngle=function(){var t=this.getStates(),e=t.angle,n=t.toAngle,o=e,i=3*t.speed;Math.abs(n-e)<180&&(n-e>0&&(o+=i),n-e<0&&(o-=i)),Math.abs(n-e)>180&&(n-e>0&&(o-=i),n-e<0&&(o+=i)),e>360&&(o-=360),e<0&&(o+=360),Math.abs(n-e)<i&&(o=n),this.setStates({angle:o})},e.prototype.terminate=function(){this.layer.getElement().removeChild(this.canvas)},e.WAIT_TIME=20,e}(S),C=function(){function t(t,e,n){this.elementRocker=t,this.elementSpeedUp=e,this.snake=n,this.top=25,this.left=25,this.startX=0,this.startY=0,t.ontouchstart=this.rockerTouchStart.bind(this),t.ontouchmove=this.rockerTouchMove.bind(this),t.ontouchend=this.rockerTouchEnd.bind(this),e.ontouchstart=this.speedUpStart.bind(this),e.ontouchend=this.speedUpEnd.bind(this)}return t.prototype.speedUpStart=function(t){t.preventDefault(),this.snake.setStates({speed:3})},t.prototype.speedUpEnd=function(t){t.preventDefault(),this.snake.setStates({speed:2})},t.prototype.rockerTouchStart=function(t){t.preventDefault();var e=t.targetTouches[0],n=e.clientX,o=e.clientY;this.startX=n,this.startY=o},t.prototype.rockerTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0],n=e.clientX,o=e.clientY,i=this.getRockerOffset(n,o),r=i[0],a=i[1],s=this.left+r,c=this.top+a;this.elementRocker.style.left=s+"px",this.elementRocker.style.top=c+"px";var h=this.getAngle(n,o,r,a);this.snake.onAngleChange(h)},t.prototype.rockerTouchEnd=function(t){t.preventDefault(),this.elementRocker.style.top=this.top+"px",this.elementRocker.style.left=this.left+"px"},t.prototype.getAngle=function(t,e,n,o){var i=180/Math.PI;return t>=this.startX&&e>=this.startY?Math.floor(Math.atan(o/n)*i):t<=this.startX&&e>=this.startY?Math.floor(Math.atan(-n/o)*i)+90:t<this.startX&&e<this.startY?Math.floor(Math.atan(-o/-n)*i)+180:t>this.startX&&e<this.startY?Math.floor(Math.atan(-n/o)*i)+270:0},t.prototype.getRockerOffset=function(t,e){var n,o=document.body,i=o.clientWidth,r=o.clientHeight,a=t-this.startX,s=e-this.startY;i<r&&(a=(n=[s,-a])[0],s=n[1]);var c=Math.sqrt(Math.pow(a,2)+Math.pow(s,2));if(c>25){var h=25/c;a*=h,s*=h}return[a,s]},t}(),P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function E(t,e){var n=e-t,o=Math.random();return t+Math.round(o*n)}var T=["#F08080","#F5DEB3","#98FB98","#ADD8E6","#40E0D0","#FFC0CB"],_=function(t){function e(){var e=t.call(this)||this;e.foodNumber=w.mapSize/10,e.foods=[],e.animates=[],e.layer=g.get("Layer"),e.canvas=e.layer.push();var n=g.get("Material");return e.mapCanvas=n.getMap(w.mapSize,!1),e.graphical=g.make("Graphical",e.mapCanvas),e.context=e.canvas.getContext("2d"),e.interfaceSize=g.get("interfaceSize"),e.setStates({x:0,y:0,snx:0,sny:0}),e.buildTree(),e.randomFood(),e}return P(e,t),e.prototype.update=function(t){var e=this.getStates(),n=e.snx,o=e.sny;for(var i in this.animates){var r=this.animates[i],a=r[0],s=r[1],c=r[2];this.graphical.clearRect(a-10,s-10,16,16);var h=o-s,p=n-a,u=Math.abs(p/h)*(p<0?-1:1)+a,l=(h<0?-1:1)+s;this.animates[i]=[u,l,c],Math.sqrt(Math.pow(p,2)+Math.pow(h,2))<=10&&(delete this.animates[i],this.makeFood())}},e.prototype.render=function(){var t=this.interfaceSize,e=t[0],n=t[1],o=this.getStates(),i=o.x,r=o.y;for(var a in this.context.clearRect(0,0,e,n),this.animates){var s=this.animates[a],c=s[0],h=s[1],p=s[2];this.graphical.food(c,h,p)}this.context.drawImage(this.mapCanvas,i,r,e,n,0,0,e,n)},e.prototype.onPositionChange=function(t,e,n){var o=w.mapSize/100-1,i=100*Math.floor(t/100),r=[i],a=0;t-i<10&&i>0&&r.push(i-1),i<o&&t+n+10>i+1&&r.push(i+1);for(var s=0,c=r;s<c.length;s++){var h=c[s],p=this.foods[h];for(var u in p){var l=p[u],f=l[0],d=l[1],v=l[2],m=n/2;this.collisionCheck(t+m,e+m,m,f,d,4)&&(a++,this.animates.push([f,d,v]),delete this.foods[h][u])}}return this.setStates({snx:t,sny:e}),a},e.prototype.collisionCheck=function(t,e,n,o,i,r){var a=Math.sqrt(Math.pow(t-o,2)+Math.pow(e-i,2));return Boolean(n+r+40>=a)},e.prototype.buildTree=function(){for(var t=w.mapSize/100,e=0;e<t;e++)this.foods[100*e]=[]},e.prototype.randomFood=function(){for(var t=0;t<this.foodNumber;t++)this.makeFood()},e.prototype.makeFood=function(){var t=E(4,w.mapSize-4),e=E(4,w.mapSize-4),n=E(0,T.length-1);this.graphical.food(t,e,T[n]);var o=100*Math.floor(t/100);this.foods[o].push([t,e,T[n]])},e.prototype.terminate=function(){this.layer.getElement().removeChild(this.canvas)},e}(S),O=document.getElementById("rocker"),z=document.getElementById("speed-up"),R=document.getElementById("start-game"),j=document.getElementById("welcome"),I=document.getElementById("game-over-confirm"),A=document.getElementById("gameover"),Y=g.get("action"),F=g.get("subject");Y.onStop((function(){A.style.display="block"})),R.onclick=function(t){j.style.display="none";var e=new _;F.register(e);var n=new w(e);F.register(n);var o=new M(n,e);F.register(o);new C(O,z,o);Y.start()},I.onclick=function(t){A.style.display="none",j.style.display="block"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3R5bGUuc2Nzcz84MGI1Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9zdHlsZS5zY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbnRhaW5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3ViamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRW51bXMvTWF0ZXJpYWxFbnVtLnRzIiwid2VicGFjazovLy8uL3NyYy9BY3Rpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9HcmFwaGljYWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvTWF0ZXJpYWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RlcGVuZGVudHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBhdGlibGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9PYnNlcnZlcnMvT2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL09ic2VydmVycy9QdWJsaWNNYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL09ic2VydmVycy9TbmFrZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Db250cm8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL09ic2VydmVycy9Gb29kLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImFwaSIsImNvbnRlbnQiLCJkZWZhdWx0Iiwib3B0aW9ucyIsImV4cG9ydGVkIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibGVuZ3RoIiwibW9kdWxlc1RvRG9tIiwibGlzdCIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsIml0ZW0iLCJpZCIsImJhc2UiLCJjb3VudCIsImNvbmNhdCIsImluZGV4Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsInB1c2giLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJ1c2VTb3VyY2VNYXAiLCJ0aGlzIiwibWFwIiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJiYXNlNjQiLCJkYXRhIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJkZWR1cGUiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiZW50cmllcyIsImRlZmluaXRpb25zIiwiY29udGFpbmVyIiwiZGVmaW5lIiwiZW50cnkiLCJkZWZpbml0aW9uIiwiYXBwbHkiLCJzZXQiLCJoYXMiLCJ1bmRlZmluZWQiLCJtYWtlIiwiYXJncyIsImludm9rZSIsImNhbGxiYWNrIiwicGFyYW1zIiwiYXJnTmFtZSIsImluc3RhbmNlIiwiY2xhc3NOYW1lIiwiU25ha2VUeXBlIiwib2JzZXJ2ZXJzIiwiU2V0IiwicmVnaXN0ZXIiLCJvYnNlcnZlciIsImFkZCIsInRlcm1pbmF0ZSIsImRlbGV0ZSIsIm5vdGlmeSIsInRpbWVzdGFtcCIsInJlbmRlciIsIm5lZWRSZXBhaW50IiwicmVwYWludCIsImNsZWFyIiwic3ViamVjdCIsImlzUnVubmluZyIsImFuaW1hdGlvbkZyYW1lSWQiLCJwcm9jZXNzIiwic3RhcnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJwYXVzZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwic3RvcCIsInN0b3BIYW5kbGUiLCJvblN0b3AiLCJFTkRfQU5HTEUiLCJNYXRoIiwiUEkiLCJSQURJQU4iLCJjYW52YXMiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsInNuYWtlSGVhZCIsIngiLCJ5IiwiY29sb3IiLCJyZW5kZXJPdXRlciIsImV5ZVIiLCJ4ZCIsInNhdmUiLCJzdHJva2VTdHlsZSIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsImFyYyIsImNsb3NlUGF0aCIsImZpbGwiLCJzdHJva2UiLCJobHIiLCJobHgiLCJobHkiLCJyZXN0b3JlIiwic25ha2VTZWN0aW9uIiwicENvbG9yIiwic0NvbG9yIiwiZm9vZCIsIm1hcEJhY2tncm91bmQiLCJzaXplIiwibWFwU2l6ZSIsInhOdW0iLCJ5TnVtIiwibWF4TnVtIiwibWF4IiwibGluZVdpZHRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xlYXJSZWN0IiwidyIsImgiLCJlbGVtZW50IiwiZ2V0RWxlbWVudCIsIm9mZnNjcmVlbiIsIndpZHRoIiwiaGVpZ2h0Iiwic25ha2VIZWFkcyIsInNuYWtlU2VjdGlvbnMiLCJZZWxsb3ciLCJzbmFrZUhlYWRUb0NhbnZhcyIsInNuYWtlU2VjdGlvblRvQ2FudmFzIiwiZ2V0U25ha2VIZWFkIiwidHlwZSIsImdldFNuYWtlU2VjdGlvbiIsImdldE1hcCIsIndpdGhCYWNrZ3JvdW5kIiwibWFrZUNhbnZhcyIsImVsZW1lbnRBcHAiLCJnZXRFbGVtZW50QnlJZCIsImludGVyZmFjZVNpemUiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIm1pbiIsImVzdGltYXRlTG9uZ1NpZGUiLCJnZXRJbnRlcmZhY2VTaXplIiwiYWN0aW9uIiwiR3JhcGhpY2FsIiwiTGF5ZXIiLCJNYXRlcmlhbCIsInN0YXRlcyIsImhpc3RvcnkiLCJyZXBhaW50U3RhdGUiLCJ0aW1lTWFwIiwiTWFwIiwic2V0U3RhdGVzIiwiZ2V0U3RhdGVzIiwiZ2V0SGlzdG9yeSIsInN0YXRlIiwiaXNPdmVydGltZSIsIm1zZWNvbmQiLCJsYXllciIsImdyYXBoaWNhbCIsIm1hdGVyaWFsIiwibWFwQ2FudmFzIiwiUHVibGljTWFwIiwiZHJhd0ltYWdlIiwidXBkYXRlTWF4UG9zaXRpb24iLCJwdWJsaWNNYXAiLCJzZWN0aW9ucyIsInBvc2l0aW9ucyIsIm9mZkxheWVyIiwib2ZmQ2FudmFzIiwib2Zmc2NyZWVuQ29udGV4dCIsIl9oZWFkIiwiaGVhZENvbnRleHQiLCJ0cmFuc2xhdGUiLCJzZWN0aW9uIiwic3BlZWQiLCJhbmdsZSIsInRvQW5nbGUiLCJzZWN0aW9uRW5kIiwibWFwWCIsIm1hcFkiLCJzY29yZXMiLCJhZGRTZWN0aW9uIiwicm90YXRlSGVhZCIsInJvdGF0ZSIsImVhY2hBbmdsZSIsIm5leHRYIiwiY29zIiwibmV4dFkiLCJzaW4iLCJtYXhQb3MiLCJhdGVzIiwib25Qb3NpdGlvbkNoYW5nZSIsInNoaWZ0IiwiY2xlYXJTZWN0aW9ucyIsImh4IiwiaHkiLCJoc2l6ZSIsInJlbmRlclNlY3Rpb25zIiwibGFzdFgiLCJsYXN0WSIsInJldmVyc2VTdG9yZSIsIndhaXRUaW1lIiwicG9zaXRpb24iLCJ1bnNoaWZ0IiwiaXNMYXN0IiwiU25ha2UiLCJXQUlUX1RJTUUiLCJsYXN0U2VjdGlvbiIsIm9uQW5nbGVDaGFuZ2UiLCJuZXh0QW5nbGUiLCJhY2NlbGVyYXRlIiwiYWJzIiwiZWxlbWVudFJvY2tlciIsImVsZW1lbnRTcGVlZFVwIiwic25ha2UiLCJ0b3AiLCJsZWZ0Iiwic3RhcnRYIiwic3RhcnRZIiwib250b3VjaHN0YXJ0Iiwicm9ja2VyVG91Y2hTdGFydCIsIm9udG91Y2htb3ZlIiwicm9ja2VyVG91Y2hNb3ZlIiwib250b3VjaGVuZCIsInJvY2tlclRvdWNoRW5kIiwic3BlZWRVcFN0YXJ0Iiwic3BlZWRVcEVuZCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjbGllbnRYIiwiY2xpZW50WSIsIm9mZnNldFgiLCJvZmZzZXRZIiwiaW5uZXJYIiwiaW5uZXJZIiwiZ2V0QW5nbGUiLCJyYWRpYW4iLCJmbG9vciIsImF0YW4iLCJnZXRSb2NrZXJPZmZzZXQiLCJsb25nU2lkZSIsInNxcnQiLCJwb3ciLCJwcm9wb3J0aW9uIiwibWFrZVJhbmRvbSIsInJhbmdlIiwicmFuZCIsInJhbmRvbSIsInJvdW5kIiwiZm9vZENvbG9ycyIsImZvb2ROdW1iZXIiLCJmb29kcyIsImFuaW1hdGVzIiwic254Iiwic255IiwiYnVpbGRUcmVlIiwicmFuZG9tRm9vZCIsImR5IiwiZHgiLCJtYWtlRm9vZCIsIm51bSIsIl9mIiwiZmtleSIsImZ4IiwiZnkiLCJjb2xsaXNpb25DaGVjayIsIngxIiwieTEiLCJyMSIsIngyIiwieTIiLCJyMiIsImRpc3QiLCJlbGVtZW50U3RhcnRHYW1lIiwiZWxlbWVudFdlbGNvbWUiLCJlbGVtZW50R2FtZU92ZXJDZm0iLCJlbGVtZW50R2FtZW92ZXIiLCJkaXNwbGF5Iiwib25jbGljayIsIkNvbnRybyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxP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QVUiLCJmaWxlIjoid2VicGFjay5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiKnttYXJnaW46MDtwYWRkaW5nOjA7Ym94LXNpemluZzpib3JkZXItYm94fS5vdmVyZmxvdy1oaWRkZW57b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTpoaWRkZW59LmZsb2F0LWxlZnR7ZmxvYXQ6bGVmdH0uZmxvYXQtcmlnaHR7ZmxvYXQ6cmlnaHR9LnNlbGVjdC1ub25le3VzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZX0ucG9zaXRpb24tYm90dG9te3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDtib3R0b206MH0uY29pbmNpZGV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowfWJvZHl7d2lkdGg6MTAwdnc7aGVpZ2h0OjEwMHZofWJvZHkgLnRleHQtY2VudGVye3RleHQtYWxpZ246Y2VudGVyfWJvZHkgLmxhbmRzY2FwZXt3aWR0aDoxMDB2dztoZWlnaHQ6MTAwdmh9Ym9keSAuY29udHJvbGxlcnt3aWR0aDoxMDB2bWF4O2hlaWdodDo0MHZtaW59Ym9keSAucm9ja2VyLXdyYXBwZXJ7d2lkdGg6MTAwcHg7aGVpZ2h0OjEwMHB4O21hcmdpbi1sZWZ0OjJyZW07Ym9yZGVyLXJhZGl1czoxMDAlO2JhY2tncm91bmQ6cmdiYSgxNTMsMTUzLDE1MywwLjQpfWJvZHkgLnJvY2tlci13cmFwcGVyIC5yb2NrZXJ7cG9zaXRpb246cmVsYXRpdmU7dG9wOjI1cHg7bGVmdDoyNXB4O3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7Ym9yZGVyLXJhZGl1czoxMDAlO2JhY2tncm91bmQ6Izk5OX1ib2R5IC5zcGVlZC11cC13cmFwe3dpZHRoOjEwMHB4O2hlaWdodDoxMDBweDttYXJnaW4tcmlnaHQ6MnJlbX1ib2R5IC5zcGVlZC11cC13cmFwIC5zcGVlZC11cHtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MjVweDtsZWZ0OjI1cHg7d2lkdGg6NzBweDtoZWlnaHQ6NzBweDtib3JkZXItcmFkaXVzOjEwMCU7YmFja2dyb3VuZDpyZ2JhKDI0MCwxMDcsMTA3LDAuNyl9Ym9keSAud2VsY29tZXtjb2xvcjojNjY2fWJvZHkgLndlbGNvbWUgaDF7cGFkZGluZzoycmVtfWJvZHkgLndlbGNvbWUgYnV0dG9uLnN0YXJ0LWdhbWV7cG9zaXRpb246cmVsYXRpdmU7dG9wOjA7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTUwcHg7bWFyZ2luLXRvcDozcmVtO3dpZHRoOjEwMHB4O2hlaWdodDo0MHB4O2JvcmRlcjoxcHggZGFzaGVkICM4ODg7Y29sb3I6IzU1NX1ib2R5IC53ZWxjb21lIC52ZXJzaW9uLXRleHR7Zm9udC1zaXplOi44cmVtO3BhZGRpbmc6LjNyZW19QG1lZGlhIHNjcmVlbiBhbmQgKG9yaWVudGF0aW9uOiBwb3J0cmFpdCl7Ym9keSAubGFuZHNjYXBle3dpZHRoOjEwMHZtYXg7aGVpZ2h0OjEwMHZtaW47dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKSB0cmFuc2xhdGUoMCwgLTEwMHZtaW4pfWJvZHkgLnR1cm57dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKSB0cmFuc2xhdGUoMCwgLTEwMHZtaW4pfX1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwiaW1wb3J0IENvbnRhaW5lckludGVyZmFjZSBmcm9tIFwiLi9JbnRlcmZhY2VzL0NvbnRhaW5lckludGVyZmFjZVwiO1xuaW1wb3J0IEluamVjdGlvbkludGVyZmFjZSBmcm9tIFwiLi9JbnRlcmZhY2VzL0luamVjdGlvbkludGVyZmFjZVwiO1xuaW1wb3J0IHsgSW5zdGFudGlhYmxlIH0gZnJvbSBcIi4vVHlwZXMvQmFzZVR5cGVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRhaW5lciBpbXBsZW1lbnRzIENvbnRhaW5lckludGVyZmFjZSwgSW5qZWN0aW9uSW50ZXJmYWNlXG57XG4gIHByaXZhdGUgZGVmaW5pdGlvbnM6IHtba2V5OiBzdHJpbmddOiBGdW5jdGlvbn0gPSB7fTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBlbnRyaWVzOiB7W2tleTogc3RyaW5nXTogYW55fSA9IHt9LFxuICAgIGRlZmluaXRpb25zOiB7W2tleTogc3RyaW5nXTogRnVuY3Rpb259ID0ge30sXG4gICkge1xuICAgIHRoaXMuZW50cmllcy5jb250YWluZXIgPSB0aGlzO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRlZmluaXRpb25zKSB7XG4gICAgICB0aGlzLmRlZmluZShrZXksIGRlZmluaXRpb25zW2tleV0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDpgJrov4flkI3np7Dojrflj5bkuIDkuKrlhoXlrrlcbiAgICogXG4gICAqIEBwYXJhbSBuYW1lIOWGheWuueeahOe0ouW8leWQjeensFxuICAgKiBAcmV1dHJuIGVudHJ5XG4gICAqIFxuICAgKiBAdGhyb3dzIHtFcnJvcn0g5b2T5om+5LiN5Yiw5YaF5a655pe25oqb5Ye66ZSZ6K+vXG4gICAqL1xuICBwdWJsaWMgZ2V0PFQgPSBhbnk+KG5hbWU6IHN0cmluZyk6IFQge1xuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5lbnRyaWVzW25hbWVdO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH1cblxuICAgIGNvbnN0IGRlZmluaXRpb246IEZ1bmN0aW9uID0gdGhpcy5kZWZpbml0aW9uc1tuYW1lXTtcbiAgICBpZiAoZGVmaW5pdGlvbikge1xuICAgICAgdGhpcy5lbnRyaWVzW25hbWVdID0gZGVmaW5pdGlvbi5hcHBseSh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzLmVudHJpZXNbbmFtZV07XG4gICAgfVxuICAgIFxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gZW50cnkgbmFtZWQgJHtuYW1lfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIOS/neWtmOS4gOS4quWGheWuueWIsOWuueWZqOS4reWOu1xuICAgKiBcbiAgICogQHBhcmFtIG5hbWUg5YaF5a6555qE57Si5byV5ZCN56ewXG4gICAqIEBwYXJhbSBlbnRyeSDpnIDopoHkv53lrZjliLDlrrnlmajkuK3nmoTlhoXlrrlcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwdWJsaWMgc2V0KG5hbWU6IHN0cmluZywgZW50cnk6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuZW50cmllc1tuYW1lXSA9IGVudHJ5O1xuICB9XG5cbiAgLyoqXG4gICAqIOajgOafpeaMh+WumueahOe0ouW8leaYr+WQpuWtmOWcqFxuICAgKiBcbiAgICogQHBhcmFtIG5hbWUg5YaF5a6555qE57Si5byV5ZCN56ewXG4gICAqL1xuICBwdWJsaWMgaGFzKG5hbWU6IHN0cmluZyk6IEJvb2xlYW4ge1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgdW5kZWZpbmVkID09PSB0aGlzLmVudHJpZXNbbmFtZV0gJiZcbiAgICAgIHVuZGVmaW5lZCA9PT0gdGhpcy5kZWZpbml0aW9uc1tuYW1lXVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICog5Yib5bu65LiA5Liq6aKE5YWI5a6a5LmJ55qE5a+56LGh77yM6L+Z5Liq5a+56LGh5LiN5Lya5L+d5a2Y5Yiw5a655Zmo5Lit77yM5omA5Lul5bm25LiN5piv5YWo5bGA5ZSv5LiAXG4gICAqIFxuICAgKiBAcGFyYW0gbmFtZSDlhoXlrrnnmoTntKLlvJXlkI3np7BcbiAgICogQHBhcmFtIGFyZ3Mg55So5LqO5Yib5bu65a+56LGh55qE5Y+C5pWw5YiX6KGoXG4gICAqL1xuICBwdWJsaWMgbWFrZTxUID0gYW55PihuYW1lOiBzdHJpbmcsIC4uLmFyZ3M6IEFycmF5PGFueT4pOiBUIHtcbiAgICBjb25zdCBkZWZpbml0aW9uOiBGdW5jdGlvbiA9IHRoaXMuZGVmaW5pdGlvbnNbbmFtZV07XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgIHJldHVybiBkZWZpbml0aW9uLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIGVudHJ5IG5hbWVkICR7bmFtZX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmt7vliqDkuIDkuKrlhoXlrrnlvZPlrprkuYlcbiAgICogXG4gICAqIEBwYXJhbSBuYW1lIOWGheWuueeahOe0ouW8leWQjeensFxuICAgKiBAcGFyYW0gZGVmaW5pdGlvbiDlr7nkuo7lhoXlrrnlrp7kvovlr7nlrprkuYnvvIzlrp7otKjkuIrmmK/kuIDkuKrnlKjkuo7nlJ/miJAgZW50cnkg55qE5Ye95pWwXG4gICAqL1xuICBwdWJsaWMgZGVmaW5lKG5hbWU6IHN0cmluZywgZGVmaW5pdGlvbjogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICB0aGlzLmRlZmluaXRpb25zW25hbWVdID0gZGVmaW5pdGlvbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiwg+eUqOS4gOS4quWvueixoVxuICAgKiBcbiAgICogQHBhcmFtIGNhbGxiYWNrIOWPr+iwg+eUqOWvueixoVxuICAgKiBAcGFyYW0gYXJncyDnlKjkuo7osIPnlKggY2FsbGJhY2sg55qE5L+h5oGv5YiX6KGoXG4gICAqIEByZXR1cm4gYW55XG4gICAqL1xuICBwdWJsaWMgaW52b2tlKGNhbGxiYWNrOiBGdW5jdGlvbiwgYXJnczogQXJyYXk8c3RyaW5nPik6IGFueVxuICB7XG4gICAgY29uc3QgcGFyYW1zOiBhbnlbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgYXJnTmFtZSBvZiBhcmdzKSB7XG4gICAgICBwYXJhbXMucHVzaCh0aGlzLmdldChhcmdOYW1lKSk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWunuS+i+WMluS4gOS4quexu1xuICAgKiBcbiAgICogQHBhcmFtIGNsYXNzTmFtZSDpnIDopoHlrp7kvovljJbnmoTnsbvlkI3np7BcbiAgICogQHBhcmFtIGFyZ3Mg55So5LqO57G75Yid5aeL5YyW55qE5L+h5oGv5YiX6KGoXG4gICAqL1xuICBwdWJsaWMgaW5zdGFuY2UoY2xhc3NOYW1lOiBJbnN0YW50aWFibGUsIGFyZ3M6IEFycmF5PHN0cmluZz4gPSBbXSk6IG9iamVjdFxuICB7XG4gICAgY29uc3QgcGFyYW1zOiBhbnlbXSA9IFtdO1xuICAgIGZvciAoY29uc3QgYXJnTmFtZSBvZiBhcmdzKSB7XG4gICAgICBwYXJhbXMucHVzaCh0aGlzLmdldChhcmdOYW1lKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgY2xhc3NOYW1lKC4uLnBhcmFtcyk7XG4gIH1cbn1cbiIsImltcG9ydCBTdWJqZWN0SW50ZXJmYWNlIGZyb20gXCIuL0ludGVyZmFjZXMvU3ViamVjdEludGVyZmFjZVwiO1xuaW1wb3J0IE9ic2VydmVySW50ZXJmYWNlIGZyb20gXCIuL0ludGVyZmFjZXMvT2JzZXJ2ZXJJbnRlcmZhY2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ViamVjdCBpbXBsZW1lbnRzIFN1YmplY3RJbnRlcmZhY2Uge1xuXG4gIHByaXZhdGUgb2JzZXJ2ZXJzID0gbmV3IFNldDxPYnNlcnZlckludGVyZmFjZT4oKTtcblxuICAvKipcbiAgICog5rOo5YaM5LiA5LiqIG9ic2VydmVyXG4gICAqIFxuICAgKiBAcGFyYW0gb2JzZXJ2ZXIgb2JzZXJ2ZXLvvIjop4Llr5/ogIXvvInlr7nosaFcbiAgICovXG4gIHJlZ2lzdGVyKG9ic2VydmVyOiBPYnNlcnZlckludGVyZmFjZSk6IHZvaWQge1xuICAgIHRoaXMub2JzZXJ2ZXJzLmFkZChvYnNlcnZlcik7XG4gIH1cblxuICAvKipcbiAgICog56e76Zmk5LiA5LiqIG9ic2VydmVy77yM5bm25bCG5YW26ZSA5q+B77yM5ZCM5pe25riF6Zmk5riy5p+T55qE5Zu+5YOPXG4gICAqIFxuICAgKiBAcGFyYW0gb2JzZXJ2ZXIgb2JzZXJ2ZXLvvIjop4Llr5/ogIXvvInlr7nosaFcbiAgICovXG4gIHJlbW92ZShvYnNlcnZlcjogT2JzZXJ2ZXJJbnRlcmZhY2UpOiB2b2lkIHtcbiAgICBpZiAob2JzZXJ2ZXIudGVybWluYXRlKSB7XG4gICAgICBvYnNlcnZlci50ZXJtaW5hdGUoKTtcbiAgICB9XG4gICAgdGhpcy5vYnNlcnZlcnMuZGVsZXRlKG9ic2VydmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmjqXlj5flpJbpg6jpgJrnn6XvvIjov5nph4zmmK/liqjnlLvliLfmlrDnmoTml7bpl7TmiLPvvInjgILlubbotJ/otKPlsIbpgJrnn6Xovazlj5Hnu5nmr4/kuIDkuKogb2JzZXJ2ZXJcbiAgICogXG4gICAqIEBwYXJhbSB0aW1lc3RhbXAg5pe26Ze05oizXG4gICAqL1xuICBub3RpZnkodGltZXN0YW1wOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKG9ic2VydmVyID0+IHtcbiAgICAgIG9ic2VydmVyLnVwZGF0ZSh0aW1lc3RhbXApO1xuICAgICAgaWYgKG9ic2VydmVyLnJlbmRlciAmJiBvYnNlcnZlci5uZWVkUmVwYWludCgpKSB7XG4gICAgICAgIG9ic2VydmVyLnJlbmRlcigpO1xuICAgICAgICBvYnNlcnZlci5yZXBhaW50KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDnu4jmraLmiYDmnIkgb2JzZXJ2ZXLvvIzlkIzml7bmuIXpmaTmuLLmn5PnmoTlm77lg4/vvIzlsIbnirbmgIHmgaLlpI3liLDliJ3lp4vljJZcbiAgICovXG4gIHRlcm1pbmF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKG9ic2VydmVyID0+IHtcbiAgICAgIGlmIChvYnNlcnZlci50ZXJtaW5hdGUpIHtcbiAgICAgICAgb2JzZXJ2ZXIudGVybWluYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5vYnNlcnZlcnMuY2xlYXIoKTtcbiAgfVxufVxuIiwiLyoqXG4gKiDom4fnmoTnp43nsbtcbiAqL1xuZXhwb3J0IGVudW0gU25ha2VUeXBlIHtcbiAgWWVsbG93XG59O1xuIiwiaW1wb3J0IEFjdGlvbkludGVyZmFjZSBmcm9tICcuL0ludGVyZmFjZXMvQWN0aW9uSW50ZXJmYWNlJztcbmltcG9ydCBTdWJqZWN0SW50ZXJmYWNlIGZyb20gJy4vSW50ZXJmYWNlcy9TdWJqZWN0SW50ZXJmYWNlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWN0aW9uIGltcGxlbWVudHMgQWN0aW9uSW50ZXJmYWNlIHtcblxuICBwcml2YXRlIGlzUnVubmluZzogQm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWVJZDogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIHN0b3BIYW5kbGU6IEZ1bmN0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgc3ViamVjdDogU3ViamVjdEludGVyZmFjZVxuICApIHtcbiAgICB0aGlzLnByb2Nlc3MgPSB0aGlzLnByb2Nlc3MuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlvIDlp4vov5DooYzliqjnlLvvvIzlpoLmnpzlvZPliY3msqHmnInlkK/liqjov4fvvIzliJnlkK/liqjliqjnlLvluKfov5DliqhcbiAgICog5aaC5p6c5b2T5YmN5Yqo55S75q2j5Zyo6L+Q6KGM77yM5YiZ5LiN5pS55Y+Y5b2T5YmN54q25oCBXG4gICAqIOWmguaenOW9k+WJjeaYr+aaguWBnOeKtuaAge+8jOWImee7p+e7rei/kOihjOWKqOeUu+iAjOS4jeaYr+mHjeaWsOW8gOWni1xuICAgKi9cbiAgcHVibGljIHN0YXJ0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcbiAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnByb2Nlc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmmoLlgZzliqjnlLtcbiAgICovXG4gIHB1YmxpYyBwYXVzZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWVJZCk7XG4gIH1cblxuICAvKipcbiAgICog5YGc5q2i5Yqo55S76L+Q6KGM77yM5bm25oGi5aSN5Yiw5Yid5aeL54q25oCBXG4gICAqL1xuICBwdWJsaWMgc3RvcCgpOiB2b2lkIHtcbiAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xuICAgIHRoaXMuc3ViamVjdC50ZXJtaW5hdGUoKTtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkZyYW1lSWQpO1xuICAgIGlmICh0aGlzLnN0b3BIYW5kbGUpIHtcbiAgICAgIHRoaXMuc3RvcEhhbmRsZS5hcHBseSh0aGlzLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5rOo5YaM5LiA5Liq5pON5L2c77yM5Zyo5ri45oiP57uT5p2f5pe26LCD55SoXG4gICAqIEBwYXJhbSBjYWxsYmFjayDlm57osIPlh73mlbBcbiAgICovXG4gIHB1YmxpYyBvblN0b3AoY2FsbGJhY2s6IEZ1bmN0aW9uKSB7XG4gICAgdGhpcy5zdG9wSGFuZGxlID0gY2FsbGJhY2s7XG4gIH1cblxuICAvKipcbiAgICogQW5pbWF0aW9uRnJhbWUg55qE5Y2V5bin5Yqo5L2cXG4gICAqIFxuICAgKiBAcGFyYW0gdGltZXN0YW1wIOaXtumXtOaIs1xuICAgKi9cbiAgcHJpdmF0ZSBwcm9jZXNzKHRpbWVzdGFtcDogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XG4gICAgICB0aGlzLnN1YmplY3Qubm90aWZ5KHRpbWVzdGFtcCk7XG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5wcm9jZXNzKTtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBFTkRfQU5HTEUgPSAyICogTWF0aC5QSVxuZXhwb3J0IGNvbnN0IFJBRElBTiA9IE1hdGguUEkgLyAxODA7XG4iLCJpbXBvcnQgeyBFTkRfQU5HTEUgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG4vKipcbiAqIOavj+S4gOW4p+eahOWbvuWDj+mDveWcqOatpOexu+S4reWumuS5ie+8jOS7peS+m+abtOaWsOeoi+W6j+iwg+eUqFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmFwaGljYWwge1xuXG4gIHByaXZhdGUgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gY2FudmFzIOW9k+WJjeeahCBjYW52YXMg5a+56LGhXG4gICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50XG4gICkge1xuICAgIHRoaXMuY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIC8vIHRoaXMuY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPliBjYW52YXMgY29udGV4dCDlr7nosaFcbiAgICogXG4gICAqIEByZXR1cm4gY2FudmFzIGNvbnRleHQg5a+56LGhXG4gICAqL1xuICBwdWJsaWMgZ2V0Q29udGV4dCgpOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQ7XG4gIH1cblxuICBwdWJsaWMgc25ha2VIZWFkKHg6IG51bWJlciwgeTogbnVtYmVyLCByOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnJlbmRlck91dGVyKHgsIHksIHIsIGNvbG9yKTtcblxuICAgIGNvbnN0IHsgY29udGV4dCB9ID0gdGhpcztcbiAgICBjb25zdCBleWVSID0gciAvIDIuMztcbiAgICBjb25zdCBkID0gciAvIDEuODtcbiAgICBjb25zdCB4ZCA9IHIgLyAxLjg7XG4gICAgY29udGV4dC5zYXZlKCk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQuYXJjKHggKyB4ZCwgeSAtIGQsIGV5ZVIsIDAsIEVORF9BTkdMRSk7XG4gICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICBjb250ZXh0LmZpbGwoKTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0LmFyYyh4ICsgeGQsIHkgKyBkLCBleWVSLCAwLCBFTkRfQU5HTEUpO1xuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgY29udGV4dC5maWxsKCk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQuYXJjKHggKyB4ZCwgeSAtIGQsIGV5ZVIvMiwgMCwgRU5EX0FOR0xFKTtcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIGNvbnRleHQuZmlsbCgpO1xuXG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0LmFyYyh4ICsgeGQsIHkgKyBkLCBleWVSLzIsIDAsIEVORF9BTkdMRSk7XG4gICAgY29udGV4dC5jbG9zZVBhdGgoKTtcbiAgICBjb250ZXh0LmZpbGwoKTtcblxuICAgIGNvbnN0IGhsciA9IGV5ZVIvMztcbiAgICBjb25zdCBobHggPSB4ICsgeGQgKyBobHI7XG4gICAgbGV0IGhseSA9IHkgLSBkIC0gaGxyO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcblxuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5hcmMoaGx4LCBobHksIGhsciwgMCwgRU5EX0FOR0xFKTtcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIGNvbnRleHQuZmlsbCgpO1xuXG4gICAgaGx5ID0geSArIGQgLSBobHI7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0LmFyYyhobHgsIGhseSwgaGxyLCAwLCBFTkRfQU5HTEUpO1xuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgY29udGV4dC5maWxsKCk7XG5cbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmuLLmn5PkuIDmiKrom4fouqtcbiAgICogXG4gICAqIEBwYXJhbSB4IHgg5Z2Q5qCHXG4gICAqIEBwYXJhbSB5IHkg5Z2Q5qCHXG4gICAqIEBwYXJhbSByIOWNiuW+hFxuICAgKiBAcGFyYW0gcENvbG9yIOS4u+iJslxuICAgKiBAcGFyYW0gc0NvbG9yIOWJr+iJslxuICAgKi9cbiAgcHVibGljIHNuYWtlU2VjdGlvbih4OiBudW1iZXIsIHk6IG51bWJlciwgcjogbnVtYmVyLCBwQ29sb3I6IHN0cmluZywgc0NvbG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNvbnRleHQgfSA9IHRoaXM7XG4gICAgdGhpcy5yZW5kZXJPdXRlcih4LCB5LCByLCBwQ29sb3IpO1xuICAgIC8vIOS4remXtOminOiJslxuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gc0NvbG9yO1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5hcmMoeCwgeSwgci8yLCAwLCBFTkRfQU5HTEUpO1xuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgY29udGV4dC5maWxsKCk7XG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG4gIH1cblxuICBwdWJsaWMgZm9vZCh4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGV4dCB9ID0gdGhpcztcbiAgICBjb250ZXh0LnNhdmUoKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5hcmMoeCwgeSwgNCwgMCwgRU5EX0FOR0xFKTtcbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIOe7mOWItue9keagvOWcsOWbvlxuICAgKiBcbiAgICogQHBhcmFtIHNpemUg572R5qC85aSn5bCPXG4gICAqIEBwYXJhbSBtYXBTaXplIOWcsOWbvuWkp+Wwj1xuICAgKi9cbiAgcHVibGljIG1hcEJhY2tncm91bmQoc2l6ZTogbnVtYmVyLCBtYXBTaXplOiBudW1iZXIpIHtcbiAgICBjb25zdCB4TnVtID0gbWFwU2l6ZSAvIHNpemVcbiAgICBjb25zdCB5TnVtID0gbWFwU2l6ZSAvIHNpemU7XG4gICAgY29uc3QgbWF4TnVtID0gTWF0aC5tYXgoeE51bSwgeU51bSk7XG4gICAgY29uc3QgeyBjb250ZXh0IH0gPSB0aGlzO1xuXG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IC4xO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNhYWEnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4TnVtOyBpKyspIHtcbiAgICAgIC8vIOerluebtOe6v1xuICAgICAgaWYgKGkgPCB4TnVtKSB7XG4gICAgICAgIGNvbnRleHQubW92ZVRvKGkgKiBzaXplLCAwKTtcbiAgICAgICAgY29udGV4dC5saW5lVG8oaSAqIHNpemUsIG1hcFNpemUpO1xuICAgICAgfVxuICAgICAgLy8g5rC05bmz57q/XG4gICAgICBpZiAoaSA8IHlOdW0pIHtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8oMCwgaSAqIHNpemUpO1xuICAgICAgICBjb250ZXh0LmxpbmVUbyhtYXBTaXplLCBpICogc2l6ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmuLLmn5PlpJblnIhcbiAgICogXG4gICAqIEBwYXJhbSB4IHgg5Z2Q5qCHXG4gICAqIEBwYXJhbSB5IHkg5Z2Q5qCHXG4gICAqIEBwYXJhbSByIOWNiuW+hFxuICAgKi9cbiAgcHJpdmF0ZSByZW5kZXJPdXRlcih4OiBudW1iZXIsIHk6IG51bWJlciwgcjogbnVtYmVyLCBjb2xvcjogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgeyBjb250ZXh0IH0gPSB0aGlzO1xuICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0LmFyYyh4LCB5LCByLCAwLCBFTkRfQU5HTEUpO1xuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgY29udGV4dC5maWxsKCk7XG4gICAgY29udGV4dC5yZXN0b3JlKCk7XG4gIH1cblxuICAvKipcbiAgICog5riF6Zmk5LiA5Liq55+p5b2i5Yy65Z+f55qE55S76Z2iXG4gICAqIFxuICAgKiBAcGFyYW0geCB4IOWdkOagh1xuICAgKiBAcGFyYW0geSB5IOWdkOagh1xuICAgKiBAcGFyYW0gdyDlrr3luqZcbiAgICogQHBhcmFtIGgg6auY5bqmXG4gICAqL1xuICBwdWJsaWMgY2xlYXJSZWN0KHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoeCwgeSwgdywgaCk7XG4gIH1cbn1cbiIsImltcG9ydCBjb250YWluZXIgZnJvbSBcIi4uL2RlcGVuZGVudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5ZXIge1xuICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgKSB7IH1cblxuICBwdWJsaWMgZ2V0RWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiDlkJHmoLnoioLngrnmt7vliqDkuIDkuKogY2FudmFzIGxheWVyXG4gICAqIFxuICAgKiBAcmV0dXJuIOaJgOa3u+WKoOeahCBjYW52YXMg5a+56LGhXG4gICAqL1xuICBwdWJsaWMgcHVzaChvZmZzY3JlZW46IGJvb2xlYW4gPSBmYWxzZSk6IEhUTUxDYW52YXNFbGVtZW50IHtcbiAgICBjb25zdCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gY29udGFpbmVyLmdldCgnaW50ZXJmYWNlU2l6ZScpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY29pbmNpZGUnKTtcbiAgICBpZiAoIW9mZnNjcmVlbikge1xuICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGNhbnZhcyk7XG4gICAgfVxuICAgIHJldHVybiBjYW52YXM7XG4gIH1cbn1cbiIsImltcG9ydCBjb250YWluZXIgZnJvbSAnLi4vZGVwZW5kZW50cyc7XG5pbXBvcnQgR3JhcGhpY2FsIGZyb20gJy4vR3JhcGhpY2FsJztcbmltcG9ydCB7IFNuYWtlVHlwZSB9IGZyb20gJy4uL0VudW1zL01hdGVyaWFsRW51bSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdGVyaWFsIHtcblxuICBwcml2YXRlIHNuYWtlSGVhZHM6IHtba2V5OiBudW1iZXJdOiBIVE1MQ2FudmFzRWxlbWVudH0gPSB7fTtcbiAgcHJpdmF0ZSBzbmFrZVNlY3Rpb25zOiB7W2tleTogbnVtYmVyXTogSFRNTENhbnZhc0VsZW1lbnR9ID0ge307XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zbmFrZUhlYWRzW1NuYWtlVHlwZS5ZZWxsb3ddID0gdGhpcy5zbmFrZUhlYWRUb0NhbnZhcygnI0YwODA4MCcsIDgwKTtcblxuICAgIHRoaXMuc25ha2VTZWN0aW9uc1tTbmFrZVR5cGUuWWVsbG93XSA9IHRoaXMuc25ha2VTZWN0aW9uVG9DYW52YXMoJyNGMDgwODAnLCAnI0NENUM1QycsIDgwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmjInnp43nsbvojrflj5bkuIDkuKrom4flpLTnmoTntKDmnZBcbiAgICogXG4gICAqIEBwYXJhbSB0eXBlIOenjeexu+W4uOmHj1xuICAgKi9cbiAgcHVibGljIGdldFNuYWtlSGVhZCh0eXBlOiBTbmFrZVR5cGUpOiBIVE1MQ2FudmFzRWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuc25ha2VIZWFkc1t0eXBlXTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTbmFrZVNlY3Rpb24odHlwZTogU25ha2VUeXBlKTogSFRNTENhbnZhc0VsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLnNuYWtlU2VjdGlvbnNbdHlwZV07XG4gIH1cblxuICBwdWJsaWMgZ2V0TWFwKHNpemU6IG51bWJlciwgd2l0aEJhY2tncm91bmQ6IGJvb2xlYW4gPSB0cnVlKTogSFRNTENhbnZhc0VsZW1lbnQge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMubWFrZUNhbnZhcyg1MDAwLCA1MDAwKTtcbiAgICBpZiAod2l0aEJhY2tncm91bmQpIHtcbiAgICAgIGNvbnN0IGdyYXBoaWNhbCA9IGNvbnRhaW5lci5tYWtlPEdyYXBoaWNhbD4oJ0dyYXBoaWNhbCcsIGNhbnZhcyk7XG4gICAgICBncmFwaGljYWwubWFwQmFja2dyb3VuZCgyMCwgc2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICAvKipcbiAgICog55S75LiA5Liq6JuH5aS077yM5bm26L+U5Zue55Sf5oiQ55qEIGNhbnZhc1xuICAgKiBcbiAgICogQHBhcmFtIGNvbG9yIOibh+WktOminOiJslxuICAgKiBAcGFyYW0gc2l6ZSDnlLvluIPlpKflsI9cbiAgICovXG4gIHByaXZhdGUgc25ha2VIZWFkVG9DYW52YXMoY29sb3I6IHN0cmluZywgc2l6ZTogbnVtYmVyKTogSFRNTENhbnZhc0VsZW1lbnQge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMubWFrZUNhbnZhcyhzaXplLCBzaXplKTtcbiAgICBjb25zdCBncmFwaGljYWwgPSBjb250YWluZXIubWFrZTxHcmFwaGljYWw+KCdHcmFwaGljYWwnLCBjYW52YXMpO1xuICAgIGdyYXBoaWNhbC5zbmFrZUhlYWQoc2l6ZS8yLCBzaXplLzIsIHNpemUvMiwgY29sb3IpO1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICAvKipcbiAgICog55S75LiA5oiq6JuH6Lqr77yM5bm26L+U5Zue55Sf5oiQ55qEIGNhbnZhc1xuICAgKiBcbiAgICogQHBhcmFtIHBDb2xvciDkuLvoibJcbiAgICogQHBhcmFtIHNDb2xvciDlia/oibJcbiAgICogQHBhcmFtIHNpemUg55S75biD5aSn5bCPXG4gICAqL1xuICBwcml2YXRlIHNuYWtlU2VjdGlvblRvQ2FudmFzKHBDb2xvcjogc3RyaW5nLCBzQ29sb3I6IHN0cmluZywgc2l6ZTogbnVtYmVyKTogSFRNTENhbnZhc0VsZW1lbnQge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMubWFrZUNhbnZhcyg4MCwgODApO1xuICAgIGNvbnN0IGdyYXBoaWNhbCA9IGNvbnRhaW5lci5tYWtlPEdyYXBoaWNhbD4oJ0dyYXBoaWNhbCcsIGNhbnZhcyk7XG4gICAgZ3JhcGhpY2FsLnNuYWtlU2VjdGlvbihzaXplLzIsIHNpemUvMiwgc2l6ZS8yLCBwQ29sb3IsIHNDb2xvcik7XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBjYW52YXMgd2l0aCB3aWR0aCBoZWlnaHQuXG4gICAqIFxuICAgKiBAcGFyYW0gd2lkdGggY2FudmFzIHdpZHRoXG4gICAqIEBwYXJhbSBoZWlnaHQgY2FudmFzIGhlaWdodFxuICAgKi9cbiAgcHVibGljIG1ha2VDYW52YXMod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBIVE1MQ2FudmFzRWxlbWVudCB7XG4gICAgY29uc3QgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfVxufVxuIiwiaW1wb3J0IENvbnRhaW5lciBmcm9tIFwiLi9Db250YWluZXJcIjtcbmltcG9ydCB7IGdldEludGVyZmFjZVNpemUgfSBmcm9tICcuL2NvbXBhdGlibGVzJztcbmltcG9ydCBTdWJqZWN0IGZyb20gXCIuL1N1YmplY3RcIjtcbmltcG9ydCBBY3Rpb24gZnJvbSBcIi4vQWN0aW9uXCI7XG5pbXBvcnQgR3JhcGhpY2FsIGZyb20gJy4vQ29tcG9uZW50cy9HcmFwaGljYWwnO1xuaW1wb3J0IExheWVyIGZyb20gXCIuL0NvbXBvbmVudHMvTGF5ZXJcIjtcbmltcG9ydCBNYXRlcmlhbCBmcm9tIFwiLi9Db21wb25lbnRzL01hdGVyaWFsXCI7XG5cbmNvbnN0IGVsZW1lbnRBcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XG5cbmNvbnN0IHsgY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCB9ID0gZG9jdW1lbnQuYm9keTtcbmNvbnN0IGludGVyZmFjZVNpemUgPSBnZXRJbnRlcmZhY2VTaXplKGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQpO1xuXG5jb25zdCBzdWJqZWN0ID0gbmV3IFN1YmplY3QoKTtcbmNvbnN0IGFjdGlvbiA9IG5ldyBBY3Rpb24oc3ViamVjdCk7XG5cbmNvbnN0IGNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoe1xuICBhY3Rpb24sIHN1YmplY3QsIGludGVyZmFjZVNpemVcbn0sIHtcbiAgR3JhcGhpY2FsOiBmdW5jdGlvbihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgcmV0dXJuIG5ldyBHcmFwaGljYWwoY2FudmFzKTtcbiAgfSxcbiAgTGF5ZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgTGF5ZXIoZWxlbWVudEFwcCk7XG4gIH0sXG4gIE1hdGVyaWFsOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IE1hdGVyaWFsKCk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb250YWluZXI7XG4iLCIvKipcbiAqIOiuoeeul+W5tuiOt+WPlua4uOaIj+aYvuekuueVjOmdoueahOWuveW6puWSjOmrmOW6piBbd2lkdGgsIGhlaWdodF1cbiAqIFxuICogQHBhcmFtIGNsaWVudFdpZHRoIOWPr+eUqOWMuuWfn+WuveW6plxuICogQHBhcmFtIGNsaWVudEhlaWdodCDlj6/nlKjljLrln5/pq5jluqZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEludGVyZmFjZVNpemUoY2xpZW50V2lkdGg6IG51bWJlciwgY2xpZW50SGVpZ2h0OiBudW1iZXIpIHtcbiAgY29uc3QgbWF4ID0gTWF0aC5tYXgoY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCk7XG4gIGNvbnN0IG1pbiA9IE1hdGgubWluKGNsaWVudFdpZHRoLCBjbGllbnRIZWlnaHQpO1xuICBjb25zdCBlc3RpbWF0ZUxvbmdTaWRlID0gbWF4ICogOSAvIDE2O1xuICBpZiAoZXN0aW1hdGVMb25nU2lkZSA+IG1pbikge1xuICAgIHJldHVybiBbbWluICogMTYgLyA5LCBtaW5dXG4gIH1cbiAgcmV0dXJuIFttYXgsIGVzdGltYXRlTG9uZ1NpZGVdO1xufVxuIiwiaW1wb3J0IE9ic2VydmVySW50ZXJmYWNlIGZyb20gXCIuLi9JbnRlcmZhY2VzL09ic2VydmVySW50ZXJmYWNlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIE9ic2VydmVyIGltcGxlbWVudHMgT2JzZXJ2ZXJJbnRlcmZhY2Uge1xuXG4gIHByaXZhdGUgc3RhdGVzOiB7W2tleTogc3RyaW5nXTogYW55fSA9IHt9O1xuXG4gIHByaXZhdGUgaGlzdG9yeToge1trZXk6IHN0cmluZ106IGFueX0gPSB7fTtcblxuICBwcml2YXRlIHJlcGFpbnRTdGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByaXZhdGUgdGltZU1hcCA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KCk7XG5cbiAgLyoqXG4gICAqIOWcqOWKqOeUu+WIt+aWsOaXtuWwhumAmuefpeatpOaOpeWPo++8jOS9oOW6lOW9k+WcqOi/memHjOabtOaWsOaIkOWRmOeKtuaAge+8jOiAjOS4jeaYr+Wunui0qOeahOa4suafk1xuICAgKiBcbiAgICogQHBhcmFtIHRpbWVzdGFtcCDlvZPliY3liLfmlrDnmoTml7bpl7TmiLNcbiAgICovXG4gIHB1YmxpYyBhYnN0cmFjdCB1cGRhdGUodGltZXN0YW1wOiBudW1iZXIpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiDmibnph4/orr7nva7nirbmgIFcbiAgICogQHBhcmFtIHN0YXRlcyDkv53lrZggc3RhdGVzIOeahOmUruWAvOWvuVxuICAgKi9cbiAgcHVibGljIHNldFN0YXRlcyhzdGF0ZXM6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogdm9pZCB7XG4gICAgdGhpcy5yZXBhaW50KHRydWUpO1xuICAgIHRoaXMuc3RhdGVzID0ge1xuICAgICAgLi4udGhpcy5zdGF0ZXMsXG4gICAgICAuLi5zdGF0ZXNcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6I635Y+WIHN0YXRlc1xuICAgKi9cbiAgcHVibGljIGdldFN0YXRlcygpOiB7W2tleTogc3RyaW5nXTogYW55fSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGVzO1xuICB9XG5cbiAgcHVibGljIGdldEhpc3RvcnkoKToge1trZXk6IHN0cmluZ106IGFueX0ge1xuICAgIHJldHVybiB0aGlzLmhpc3Rvcnk7XG4gIH1cblxuICAvKipcbiAgICog5qOA5p+l5b2T5YmN6KeC5a+f6ICF5piv5ZCm6ZyA6KaB6YeN57uYXG4gICAqL1xuICBuZWVkUmVwYWludCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5yZXBhaW50U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICog6K6+572u5piv5ZCm6ZyA6KaB6YeN57uYXG4gICAqIFxuICAgKiBAcGFyYW0gc3RhdGUg6YeN57uY55qE54q25oCBXG4gICAqL1xuICByZXBhaW50KHN0YXRlOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5yZXBhaW50U3RhdGUgPSBzdGF0ZTtcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIHRoaXMuaGlzdG9yeSA9IHRoaXMuc3RhdGVzO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmo4DmtYvlvZPliY3kuI7kuIrkuIDmrKHliLfmlrDnmoTml7bpl7Tpl7TpmpTvvIzlj6/ku6XlpJrmrKHmiJbph43lpI3kvb/nlKhcbiAgICogXG4gICAqIEBwYXJhbSB0aW1lc3RhbXAg5b2T5YmN5pe26Ze05oizXG4gICAqIEBwYXJhbSBtc2Vjb25kIOmXtOmalOeahOavq+enkuaVsFxuICAgKi9cbiAgcHJvdGVjdGVkIGlzT3ZlcnRpbWUodGltZXN0YW1wOiBudW1iZXIsIG1zZWNvbmQ6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmICghIHRoaXMudGltZU1hcC5oYXMobXNlY29uZCkpIHtcbiAgICAgIHRoaXMudGltZU1hcC5zZXQobXNlY29uZCwgMCk7XG4gICAgfVxuXG4gICAgaWYgKG1zZWNvbmQgPD0gdGltZXN0YW1wIC0gdGhpcy50aW1lTWFwLmdldChtc2Vjb25kKSkge1xuICAgICAgdGhpcy50aW1lTWFwLnNldChtc2Vjb25kLCB0aW1lc3RhbXApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCJpbXBvcnQgT2JzZXJ2ZXIgZnJvbSBcIi4vT2JzZXJ2ZXJcIjtcbmltcG9ydCBjb250YWluZXIgZnJvbSBcIi4uL2RlcGVuZGVudHNcIjtcbmltcG9ydCBMYXllciBmcm9tIFwiLi4vQ29tcG9uZW50cy9MYXllclwiO1xuaW1wb3J0IEdyYXBoaWNhbCBmcm9tIFwiLi4vQ29tcG9uZW50cy9HcmFwaGljYWxcIjtcbmltcG9ydCBNYXRlcmlhbCBmcm9tIFwiLi4vQ29tcG9uZW50cy9NYXRlcmlhbFwiO1xuaW1wb3J0IEZvb2QgZnJvbSBcIi4vRm9vZFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQdWJsaWNNYXAgZXh0ZW5kcyBPYnNlcnZlciB7XG5cbiAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuXG4gIHByaXZhdGUgbGF5ZXI6IExheWVyO1xuXG4gIHByaXZhdGUgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gIHByaXZhdGUgbWFwQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgXG4gIHByaXZhdGUgaW50ZXJmYWNlU2l6ZTogbnVtYmVyW107XG5cbiAgc3RhdGljIG1hcFNpemU6IG51bWJlciA9IDEyMDA7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgZm9vZDogRm9vZFxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubGF5ZXIgPSBjb250YWluZXIuZ2V0PExheWVyPignTGF5ZXInKTtcbiAgICB0aGlzLmNhbnZhcyA9IHRoaXMubGF5ZXIucHVzaCgpO1xuICAgIGNvbnN0IGdyYXBoaWNhbCA9IGNvbnRhaW5lci5tYWtlPEdyYXBoaWNhbD4oJ0dyYXBoaWNhbCcsIHRoaXMuY2FudmFzKTtcbiAgICBjb25zdCBtYXRlcmlhbCA9IGNvbnRhaW5lci5nZXQ8TWF0ZXJpYWw+KCdNYXRlcmlhbCcpO1xuICAgIHRoaXMubWFwQ2FudmFzID0gbWF0ZXJpYWwuZ2V0TWFwKFB1YmxpY01hcC5tYXBTaXplKTtcbiAgICB0aGlzLmNvbnRleHQgPSBncmFwaGljYWwuZ2V0Q29udGV4dCgpO1xuXG4gICAgdGhpcy5pbnRlcmZhY2VTaXplID0gY29udGFpbmVyLmdldCgnaW50ZXJmYWNlU2l6ZScpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZXMoe1xuICAgICAgeDogMCxcbiAgICAgIHk6IDBcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUodGltZXN0YW1wOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBwYXNzXG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCkge1xuICAgIGNvbnN0IFsgd2lkdGgsIGhlaWdodCBdID0gdGhpcy5pbnRlcmZhY2VTaXplO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5nZXRTdGF0ZXMoKTtcbiAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5tYXBDYW52YXMsIHgsIHksIHdpZHRoLCBoZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZU1heFBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXRTdGF0ZXMoe3gsIHl9KTtcbiAgICB0aGlzLmZvb2Quc2V0U3RhdGVzKHt4LCB5fSk7XG4gIH1cblxuICBwdWJsaWMgdGVybWluYXRlKCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmxheWVyLmdldEVsZW1lbnQoKTtcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuY2FudmFzKTtcbiAgfSBcbn1cbiIsImltcG9ydCBPYnNlcnZlciBmcm9tICcuL09ic2VydmVyJztcbmltcG9ydCBjb250YWluZXIgZnJvbSAnLi4vZGVwZW5kZW50cyc7XG5pbXBvcnQgTGF5ZXIgZnJvbSAnLi4vQ29tcG9uZW50cy9MYXllcic7XG5pbXBvcnQgR3JhcGhpY2FsIGZyb20gJy4uL0NvbXBvbmVudHMvR3JhcGhpY2FsJztcbmltcG9ydCBNYXRlcmlhbCBmcm9tICcuLi9Db21wb25lbnRzL01hdGVyaWFsJztcbmltcG9ydCB7IFNuYWtlVHlwZSB9IGZyb20gJy4uL0VudW1zL01hdGVyaWFsRW51bSc7XG5pbXBvcnQgeyBSQURJQU4gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgU25ha2VTZWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMvQmFzZVR5cGVzJztcbmltcG9ydCBQdWJsaWNNYXAgZnJvbSAnLi9QdWJsaWNNYXAnO1xuaW1wb3J0IEFjdGlvbkludGVyZmFjZSBmcm9tICcuLi9JbnRlcmZhY2VzL0FjdGlvbkludGVyZmFjZSc7XG5pbXBvcnQgRm9vZCBmcm9tICcuL0Zvb2QnO1xuXG4vKipcbiAqIOibh+Wvueixoe+8jOaOp+WItuibh+eahOWKqOS9nOS4jua4suafk1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbmFrZSBleHRlbmRzIE9ic2VydmVyIHtcblxuICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBvZmZDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuXG4gIHByaXZhdGUgbGF5ZXI6IExheWVyO1xuXG4gIHByaXZhdGUgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gIHByaXZhdGUgb2ZmTGF5ZXI6IExheWVyO1xuXG4gIHByaXZhdGUgb2Zmc2NyZWVuQ29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gIHByaXZhdGUgaGVhZENvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICBwcml2YXRlIGhlYWQ6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwcml2YXRlIF9oZWFkOiBIVE1MQ2FudmFzRWxlbWVudDtcblxuICBwcml2YXRlIHNlY3Rpb246IEhUTUxDYW52YXNFbGVtZW50O1xuXG4gIHByaXZhdGUgc2VjdGlvbnM6IEFycmF5PFNuYWtlU2VjdGlvbj4gPSBbXTtcblxuICBwcml2YXRlIHBvc2l0aW9uczogQXJyYXk8YW55PiA9IFtdO1xuXG4gIHN0YXRpYyBXQUlUX1RJTUUgPSAyMDtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBwdWJsaWNNYXA6IFB1YmxpY01hcCxcbiAgICBwcml2YXRlIGZvb2Q6IEZvb2RcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9mZkxheWVyID0gY29udGFpbmVyLmdldDxMYXllcj4oJ0xheWVyJyk7XG4gICAgdGhpcy5vZmZDYW52YXMgPSB0aGlzLm9mZkxheWVyLnB1c2godHJ1ZSk7XG4gICAgdGhpcy5vZmZzY3JlZW5Db250ZXh0ID0gdGhpcy5vZmZDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHRoaXMubGF5ZXIgPSBjb250YWluZXIuZ2V0PExheWVyPignTGF5ZXInKTtcbiAgICB0aGlzLmNhbnZhcyA9IHRoaXMubGF5ZXIucHVzaCgpO1xuICAgIGNvbnN0IGdyYXBoaWNhbCA9IGNvbnRhaW5lci5tYWtlPEdyYXBoaWNhbD4oJ0dyYXBoaWNhbCcsIHRoaXMuY2FudmFzKTtcbiAgICBjb25zdCBtYXRlcmlhbCA9IGNvbnRhaW5lci5nZXQ8TWF0ZXJpYWw+KCdNYXRlcmlhbCcpO1xuICAgIHRoaXMuY29udGV4dCA9IGdyYXBoaWNhbC5nZXRDb250ZXh0KCk7XG4gICAgY29uc3QgaGVhZCA9IG1hdGVyaWFsLmdldFNuYWtlSGVhZChTbmFrZVR5cGUuWWVsbG93KTtcbiAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICBcbiAgICB0aGlzLmhlYWQgPSBtYXRlcmlhbC5tYWtlQ2FudmFzKDgwLCA4MCk7XG4gICAgdGhpcy5oZWFkQ29udGV4dCA9IHRoaXMuaGVhZC5nZXRDb250ZXh0KCcyZCcpO1xuICAgIHRoaXMuaGVhZENvbnRleHQudHJhbnNsYXRlKDQwLCA0MCk7XG4gICAgdGhpcy5oZWFkQ29udGV4dC5kcmF3SW1hZ2UoaGVhZCwgLTQwLCAtNDApO1xuXG4gICAgdGhpcy5zZWN0aW9uID0gbWF0ZXJpYWwuZ2V0U25ha2VTZWN0aW9uKFNuYWtlVHlwZS5ZZWxsb3cpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZXMoe1xuICAgICAgaW50ZXJmYWNlU2l6ZTogY29udGFpbmVyLmdldCgnaW50ZXJmYWNlU2l6ZScpLFxuICAgICAgeDogNTAwLFxuICAgICAgeTogNjAwLFxuICAgICAgc2l6ZTogMzAsXG4gICAgICBzcGVlZDogMixcbiAgICAgIGFuZ2xlOiAwLFxuICAgICAgdG9BbmdsZTogMCxcbiAgICAgIHNlY3Rpb25FbmQ6IGZhbHNlLFxuXG4gICAgICBtYXBYOiAwLFxuICAgICAgbWFwWTogMCxcbiAgICAgIHNjb3JlczogMCxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkU2VjdGlvbigpO1xuICAgIHRoaXMuYWRkU2VjdGlvbigpO1xuICAgIHRoaXMuYWRkU2VjdGlvbigpO1xuICAgIHRoaXMuYWRkU2VjdGlvbigpO1xuICAgIHRoaXMuYWRkU2VjdGlvbigpO1xuICAgIHRoaXMuYWRkU2VjdGlvbigpO1xuICB9XG5cbiAgcHJpdmF0ZSByb3RhdGVIZWFkKCkge1xuICAgIGNvbnN0IHsgYW5nbGUgfSA9IHRoaXMuZ2V0U3RhdGVzKCk7XG4gICAgdGhpcy5oZWFkQ29udGV4dC5zYXZlKCk7XG4gICAgdGhpcy5oZWFkQ29udGV4dC5jbGVhclJlY3QoLTQ1LCAtNDUsIDk1LCA5NSk7XG4gICAgdGhpcy5oZWFkQ29udGV4dC5yb3RhdGUoYW5nbGUgKiBSQURJQU4pO1xuICAgIHRoaXMuaGVhZENvbnRleHQuZHJhd0ltYWdlKHRoaXMuX2hlYWQsIC00MCwgLTQwKTtcbiAgICB0aGlzLmhlYWRDb250ZXh0LnJlc3RvcmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrDnirbmgIHnmoTmjqXlj6NcbiAgICogXG4gICAqIEBwYXJhbSB0aW1lc3RhbXAg5pe26Ze05oizXG4gICAqL1xuICBwdWJsaWMgdXBkYXRlKHRpbWVzdGFtcDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNPdmVydGltZSh0aW1lc3RhbXAsIDE2KSkge1xuICAgICAgY29uc3QgeyB4LCB5LCBzcGVlZCwgYW5nbGUsIHRvQW5nbGUsIHNlY3Rpb25FbmQsIHNpemUsIHNjb3JlcywgaW50ZXJmYWNlU2l6ZTogW3dpZHRoLCBoZWlnaHRdIH0gPSB0aGlzLmdldFN0YXRlcygpO1xuICAgICAgaWYgKGFuZ2xlICE9PSB0b0FuZ2xlKSB7XG4gICAgICAgIHRoaXMuZWFjaEFuZ2xlKCk7XG4gICAgICAgIHRoaXMucm90YXRlSGVhZCgpO1xuICAgICAgfVxuICAgICAgbGV0IHN0YXRlczoge1trZXk6IHN0cmluZ106IGFueX0gPSB7fTtcbiAgICAgIGNvbnN0IG5leHRYID0gc3BlZWQgKiBNYXRoLmNvcyhhbmdsZSAqIFJBRElBTikgKyB4O1xuICAgICAgY29uc3QgbmV4dFkgPSBzcGVlZCAqIE1hdGguc2luKGFuZ2xlICogUkFESUFOKSArIHk7XG4gICAgICBjb25zdCBtYXBYID0gbmV4dFggLSB3aWR0aCAvIDIgKyBzaXplIC8gMjtcbiAgICAgIGNvbnN0IG1hcFkgPSBuZXh0WSAtIGhlaWdodCAvIDIgKyBzaXplIC8gMjtcbiAgICAgIHRoaXMucHVibGljTWFwLnVwZGF0ZU1heFBvc2l0aW9uKG1hcFgsIG1hcFkpO1xuICAgICAgc3RhdGVzID0ge1xuICAgICAgICB4OiBuZXh0WCxcbiAgICAgICAgeTogbmV4dFksXG4gICAgICAgIG1hcFgsXG4gICAgICAgIG1hcFlcbiAgICAgIH07XG4gICAgICB0aGlzLnBvc2l0aW9ucy5wdXNoKFtuZXh0WCwgbmV4dFldKTtcblxuICAgICAgY29uc3QgbWF4UG9zID0gUHVibGljTWFwLm1hcFNpemUgLSBzaXplO1xuICAgICAgaWYgKG5leHRYIDw9IDAgfHwgbmV4dFkgPD0gMCB8fCBuZXh0WCA+PSBtYXhQb3MgfHwgbmV4dFkgPj0gbWF4UG9zKSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGNvbnRhaW5lci5nZXQ8QWN0aW9uSW50ZXJmYWNlPignYWN0aW9uJyk7XG4gICAgICAgIGFjdGlvbi5zdG9wKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIOmjn+eJqeajgOa1i1xuICAgICAgY29uc3QgYXRlcyA9IHRoaXMuZm9vZC5vblBvc2l0aW9uQ2hhbmdlKG5leHRYLCBuZXh0WSwgc2l6ZSk7XG4gICAgICBpZiAoYXRlcykge1xuICAgICAgICBpZiAoc2NvcmVzID49IDUpIHtcbiAgICAgICAgICBzdGF0ZXMuc2NvcmVzID0gc2NvcmVzIC0gNSArIGF0ZXM7XG4gICAgICAgICAgdGhpcy5hZGRTZWN0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGVzLnNjb3JlcyA9IHNjb3JlcyArIGF0ZXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGVzKHN0YXRlcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOa4suafk+eUu+mdoueahOaOpeWPo1xuICAgKi9cbiAgcHVibGljIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHNpemUsIHgsIHksIG1hcFgsIG1hcFksIHNlY3Rpb25FbmQsIGludGVyZmFjZVNpemU6IFt3aWR0aCwgaGVpZ2h0XSB9ID0gdGhpcy5nZXRTdGF0ZXMoKTtcbiAgICBjb25zdCB7IHNpemU6IGhzaXplLCB4OiBoeCwgeTogaHkgfSA9IHRoaXMuZ2V0SGlzdG9yeSgpO1xuICAgIGNvbnN0IHsgb2Zmc2NyZWVuQ29udGV4dCwgY29udGV4dCB9ID0gdGhpcztcblxuICAgIGlmIChzZWN0aW9uRW5kKSB7XG4gICAgICB0aGlzLnBvc2l0aW9ucy5zaGlmdCgpO1xuICAgIH1cblxuICAgIHRoaXMuY2xlYXJTZWN0aW9ucygpO1xuICAgIG9mZnNjcmVlbkNvbnRleHQuY2xlYXJSZWN0KGh4IC0gbWFwWCAtIDEwLCBoeSAtIG1hcFkgLSAxMCwgaHNpemUgKyAyMCwgaHNpemUgKyAyMCk7XG5cbiAgICB0aGlzLnJlbmRlclNlY3Rpb25zKCk7XG4gICAgb2Zmc2NyZWVuQ29udGV4dC5kcmF3SW1hZ2UodGhpcy5oZWFkLCAwLCAwLCA4MCwgODAsIHggLSBtYXBYLCB5IC0gbWFwWSwgc2l6ZSwgc2l6ZSk7XG5cbiAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLm9mZkNhbnZhcywwLCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXpmaTom4fouqtcbiAgICovXG4gIHByaXZhdGUgY2xlYXJTZWN0aW9ucygpOiB2b2lkIHtcbiAgICBjb25zdCB7IHNpemU6IGhzaXplIH0gPSB0aGlzLmdldEhpc3RvcnkoKTtcbiAgICBjb25zdCB7IG9mZnNjcmVlbkNvbnRleHQgfSA9IHRoaXM7XG5cbiAgICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgdGhpcy5zZWN0aW9ucykge1xuICAgICAgb2Zmc2NyZWVuQ29udGV4dC5jbGVhclJlY3Qoc2VjdGlvbi5sYXN0WCAtIDEwLCBzZWN0aW9uLmxhc3RZIC0gMTAsIGhzaXplICsgMjAsIGhzaXplICsgMjApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmuLLmn5Pom4fouqtcbiAgICovXG4gIHByaXZhdGUgcmVuZGVyU2VjdGlvbnMoKTogdm9pZCB7XG4gICAgY29uc3QgeyBzaXplLCBtYXBYLCBtYXBZLCBzZWN0aW9uRW5kIH0gPSB0aGlzLmdldFN0YXRlcygpO1xuICAgIGNvbnN0IHsgb2Zmc2NyZWVuQ29udGV4dCB9ID0gdGhpcztcblxuICAgIGNvbnN0IHJldmVyc2VTdG9yZTogQXJyYXk8YW55PiA9IFtdO1xuICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiB0aGlzLnNlY3Rpb25zKSB7XG4gICAgICBpZiAoMCAhPT0gc2VjdGlvbi53YWl0VGltZSkge1xuICAgICAgICBzZWN0aW9uLndhaXRUaW1lLS07XG4gICAgICAgIGJyZWFrOyAgLy8g5ZCO6Z2i55qE5b+F562J5b6FXG4gICAgICB9XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb25zW3NlY3Rpb24ucG9zaXRpb25dO1xuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IHBvc2l0aW9uO1xuICAgICAgICByZXZlcnNlU3RvcmUudW5zaGlmdChbeCwgeV0pO1xuICAgICAgICBpZiAoc2VjdGlvbi5pc0xhc3QpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlcyh7c2VjdGlvbkVuZDogdHJ1ZX0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIHRoaXMuZ2V0U3RhdGVzKCkuc2VjdGlvbkVuZCkge1xuICAgICAgICAgIHNlY3Rpb24ucG9zaXRpb24rKztcbiAgICAgICAgfVxuICAgICAgICBzZWN0aW9uLmxhc3RYID0geCAtIG1hcFg7XG4gICAgICAgIHNlY3Rpb24ubGFzdFkgPSB5IC0gbWFwWTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IFt4LCB5XSBvZiByZXZlcnNlU3RvcmUpIHtcbiAgICAgIG9mZnNjcmVlbkNvbnRleHQuZHJhd0ltYWdlKHRoaXMuc2VjdGlvbiwgMCwwLCA4MCwgODAsIHggLSBtYXBYLCB5IC0gbWFwWSwgc2l6ZSwgc2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOa3u+WKoOS4gOaIquibh+i6q1xuICAgKi9cbiAgcHJpdmF0ZSBhZGRTZWN0aW9uKCkge1xuICAgIGNvbnN0IHsgeCwgeSwgc3BlZWQgfSA9IHRoaXMuZ2V0U3RhdGVzKCk7XG4gICAgY29uc3Qgd2FpdFRpbWUgPSBTbmFrZS5XQUlUX1RJTUUgLyBzcGVlZDtcbiAgICBjb25zdCBsYXN0U2VjdGlvbiA9IHRoaXMuc2VjdGlvbnNbdGhpcy5zZWN0aW9ucy5sZW5ndGggLSAxXTtcbiAgICBsZXQgbGFzdFggPSB4O1xuICAgIGxldCBsYXN0WSA9IHk7XG4gICAgaWYgKGxhc3RTZWN0aW9uKSB7XG4gICAgICBsYXN0U2VjdGlvbi5pc0xhc3QgPSBmYWxzZTtcbiAgICAgIGxhc3RYID0gbGFzdFNlY3Rpb24ubGFzdFg7XG4gICAgICBsYXN0WSA9IGxhc3RTZWN0aW9uLmxhc3RZO1xuICAgIH1cbiAgICB0aGlzLnNlY3Rpb25zLnB1c2goe1xuICAgICAgaXNMYXN0OiB0cnVlLFxuICAgICAgbGFzdFgsXG4gICAgICBsYXN0WSxcbiAgICAgIHdhaXRUaW1lLFxuICAgICAgcG9zaXRpb246IDBcbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlcyh7c2VjdGlvbkVuZDogZmFsc2V9KTtcbiAgfVxuXG4gIHB1YmxpYyBvbkFuZ2xlQ2hhbmdlKGFuZ2xlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnNldFN0YXRlcyh7dG9BbmdsZTogYW5nbGV9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlvpfliLDkuIDmrKHmm7TmlrDnmoTop5LluqZcbiAgICovXG4gIHByaXZhdGUgZWFjaEFuZ2xlKCkge1xuICAgIGNvbnN0IHsgYW5nbGUsIHRvQW5nbGUsIHNwZWVkIH0gPSB0aGlzLmdldFN0YXRlcygpO1xuICAgIGxldCBuZXh0QW5nbGUgPSBhbmdsZTtcbiAgICBjb25zdCBhY2NlbGVyYXRlID0gc3BlZWQgKiAzO1xuICAgIGlmIChNYXRoLmFicyh0b0FuZ2xlIC0gYW5nbGUpIDwgMTgwKSB7XG4gICAgICBpZiAodG9BbmdsZSAtIGFuZ2xlID4gMCkge1xuICAgICAgICBuZXh0QW5nbGUgKz0gYWNjZWxlcmF0ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0b0FuZ2xlIC0gYW5nbGUgPCAwKSB7XG4gICAgICAgIG5leHRBbmdsZSAtPSBhY2NlbGVyYXRlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoTWF0aC5hYnModG9BbmdsZSAtIGFuZ2xlKSA+IDE4MCkge1xuICAgICAgaWYgKHRvQW5nbGUgLSBhbmdsZSA+IDApIHtcbiAgICAgICAgbmV4dEFuZ2xlIC09IGFjY2VsZXJhdGU7XG4gICAgICB9XG4gICAgICBpZiAodG9BbmdsZSAtIGFuZ2xlIDwgMCkge1xuICAgICAgICBuZXh0QW5nbGUgKz0gYWNjZWxlcmF0ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFuZ2xlID4gMzYwKSB7XG4gICAgICBuZXh0QW5nbGUgLT0gMzYwXG4gICAgfVxuICAgIGlmIChhbmdsZSA8IDApIHtcbiAgICAgIG5leHRBbmdsZSArPSAzNjBcbiAgICB9XG4gICAgaWYgKE1hdGguYWJzKHRvQW5nbGUgLSBhbmdsZSkgPCBhY2NlbGVyYXRlKSB7XG4gICAgICBuZXh0QW5nbGUgPSB0b0FuZ2xlO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlcyh7YW5nbGU6IG5leHRBbmdsZX0pO1xuICB9XG5cbiAgcHVibGljIHRlcm1pbmF0ZSgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5sYXllci5nZXRFbGVtZW50KCk7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmNhbnZhcyk7XG4gIH1cbn1cbiIsImltcG9ydCBjb250YWluZXIgZnJvbSBcIi4uL2RlcGVuZGVudHNcIjtcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi4vT2JzZXJ2ZXJzL1NuYWtlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2wge1xuXG4gIHByaXZhdGUgdG9wOiBudW1iZXIgPSAyNTtcbiAgcHJpdmF0ZSBsZWZ0OiBudW1iZXIgPSAyNTtcbiAgcHJpdmF0ZSBzdGFydFg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgc3RhcnRZOiBudW1iZXIgPSAwO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGVsZW1lbnRSb2NrZXI6IEhUTUxFbGVtZW50LFxuICAgIHByaXZhdGUgZWxlbWVudFNwZWVkVXA6IEhUTUxFbGVtZW50LFxuICAgIHByaXZhdGUgc25ha2U6IFNuYWtlXG4gICkge1xuICAgIGVsZW1lbnRSb2NrZXIub250b3VjaHN0YXJ0ID0gdGhpcy5yb2NrZXJUb3VjaFN0YXJ0LmJpbmQodGhpcyk7XG4gICAgZWxlbWVudFJvY2tlci5vbnRvdWNobW92ZSA9IHRoaXMucm9ja2VyVG91Y2hNb3ZlLmJpbmQodGhpcyk7XG4gICAgZWxlbWVudFJvY2tlci5vbnRvdWNoZW5kID0gdGhpcy5yb2NrZXJUb3VjaEVuZC5iaW5kKHRoaXMpO1xuICAgIFxuICAgIGVsZW1lbnRTcGVlZFVwLm9udG91Y2hzdGFydCA9IHRoaXMuc3BlZWRVcFN0YXJ0LmJpbmQodGhpcyk7XG4gICAgZWxlbWVudFNwZWVkVXAub250b3VjaGVuZCA9IHRoaXMuc3BlZWRVcEVuZC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgc3BlZWRVcFN0YXJ0KGV2ZW50OiBUb3VjaEV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNuYWtlLnNldFN0YXRlcyh7c3BlZWQ6IDN9KTtcbiAgfVxuXG4gIHNwZWVkVXBFbmQoZXZlbnQ6IFRvdWNoRXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuc25ha2Uuc2V0U3RhdGVzKHtzcGVlZDogMn0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOaJi+aMh+aOpeinpuaRh+adhu+8jOiusOW9leWIneWni+S9jee9rlxuICAgKiBcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIHJvY2tlclRvdWNoU3RhcnQoZXZlbnQ6IFRvdWNoRXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHsgY2xpZW50WCwgY2xpZW50WSB9ID0gZXZlbnQudGFyZ2V0VG91Y2hlc1swXTtcbiAgICB0aGlzLnN0YXJ0WCA9IGNsaWVudFg7XG4gICAgdGhpcy5zdGFydFkgPSBjbGllbnRZO1xuICB9XG5cbiAgLyoqXG4gICAqIOaRh+adhuenu+WKqO+8jOW5tuaOp+WItuinhuinieWFg+e0oFxuICAgKiBcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIHJvY2tlclRvdWNoTW92ZShldmVudDogVG91Y2hFdmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgeyBjbGllbnRYLCBjbGllbnRZIH0gPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xuICAgIGNvbnN0IFsgb2Zmc2V0WCwgb2Zmc2V0WSBdID0gdGhpcy5nZXRSb2NrZXJPZmZzZXQoY2xpZW50WCwgY2xpZW50WSk7XG4gICAgY29uc3QgaW5uZXJYID0gdGhpcy5sZWZ0ICsgb2Zmc2V0WDtcbiAgICBjb25zdCBpbm5lclkgPSB0aGlzLnRvcCArIG9mZnNldFk7XG4gICAgdGhpcy5lbGVtZW50Um9ja2VyLnN0eWxlLmxlZnQgPSBgJHtpbm5lclh9cHhgO1xuICAgIHRoaXMuZWxlbWVudFJvY2tlci5zdHlsZS50b3AgPSBgJHtpbm5lcll9cHhgO1xuICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5nZXRBbmdsZShjbGllbnRYLCBjbGllbnRZLCBvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICB0aGlzLnNuYWtlLm9uQW5nbGVDaGFuZ2UoYW5nbGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIOaJi+aMh+emu+W8gO+8jOaRh+adhuW9kuS9jVxuICAgKiBcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIHJvY2tlclRvdWNoRW5kKGV2ZW50OiBUb3VjaEV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmVsZW1lbnRSb2NrZXIuc3R5bGUudG9wID0gdGhpcy50b3AgKyAncHgnO1xuICAgIHRoaXMuZWxlbWVudFJvY2tlci5zdHlsZS5sZWZ0ID0gdGhpcy5sZWZ0ICsgJ3B4JztcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bop5LluqZcbiAgICogXG4gICAqIEBwYXJhbSBvZmZzZXRYIOaRh+adhuWGhSB4IOi9tOWBj+enu+mHj1xuICAgKiBAcGFyYW0gb2Zmc2V0WSDmkYfmnYblhoUgeSDovbTlgY/np7vph49cbiAgICovXG4gIHByaXZhdGUgZ2V0QW5nbGUoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIsIG9mZnNldFg6IG51bWJlciwgb2Zmc2V0WTogbnVtYmVyKSB7XG4gICAgY29uc3QgcmFkaWFuID0gMTgwIC8gTWF0aC5QSTtcbiAgICBpZiAoY2xpZW50WCA+PSB0aGlzLnN0YXJ0WCAmJiBjbGllbnRZID49IHRoaXMuc3RhcnRZKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcigoTWF0aC5hdGFuKG9mZnNldFkgLyBvZmZzZXRYKSAqIHJhZGlhbikpO1xuICAgIH0gZWxzZSBpZiAoY2xpZW50WCA8PSB0aGlzLnN0YXJ0WCAmJiBjbGllbnRZID49IHRoaXMuc3RhcnRZKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcigoTWF0aC5hdGFuKC1vZmZzZXRYIC8gb2Zmc2V0WSkgKiByYWRpYW4pKSArIDkwO1xuICAgIH0gZWxzZSBpZiAoY2xpZW50WCA8IHRoaXMuc3RhcnRYICYmIGNsaWVudFkgPCB0aGlzLnN0YXJ0WSkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKE1hdGguYXRhbigtb2Zmc2V0WSAvIC1vZmZzZXRYKSAqIHJhZGlhbikpICsgMTgwO1xuICAgIH0gZWxzZSBpZiAoY2xpZW50WCA+IHRoaXMuc3RhcnRYICYmIGNsaWVudFkgPCB0aGlzLnN0YXJ0WSkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKE1hdGguYXRhbigtb2Zmc2V0WCAvIG9mZnNldFkpICogcmFkaWFuKSkgKyAyNzA7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluaRh+adhueahOWBj+enu+mHj1xuICAgKiBcbiAgICogQHBhcmFtIHgg5omL5oyH55qEIHgg5Z2Q5qCHXG4gICAqIEBwYXJhbSB5IOaJi+aMh+eahCB5IOWdkOagh1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRSb2NrZXJPZmZzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBBcnJheTxudW1iZXI+IHtcbiAgICBjb25zdCB7IGNsaWVudFdpZHRoOiB3aWR0aCwgY2xpZW50SGVpZ2h0OiBoZWlnaHQgfSA9IGRvY3VtZW50LmJvZHk7XG4gICAgbGV0IG9mZnNldFggPSB4IC0gdGhpcy5zdGFydFg7XG4gICAgbGV0IG9mZnNldFkgPSB5IC0gdGhpcy5zdGFydFk7XG4gICAgaWYgKHdpZHRoIDwgaGVpZ2h0KSB7XG4gICAgICBbIG9mZnNldFgsIG9mZnNldFkgXSA9IFsgb2Zmc2V0WSwgLW9mZnNldFggXTtcbiAgICB9XG4gICAgY29uc3QgbG9uZ1NpZGUgPSBNYXRoLnNxcnQoTWF0aC5wb3cob2Zmc2V0WCwgMikgKyBNYXRoLnBvdyhvZmZzZXRZLCAyKSk7XG4gICAgaWYgKGxvbmdTaWRlID4gMjUpIHtcbiAgICAgIGNvbnN0IHByb3BvcnRpb24gPSAyNSAvIGxvbmdTaWRlO1xuICAgICAgb2Zmc2V0WCA9IG9mZnNldFggKiBwcm9wb3J0aW9uO1xuICAgICAgb2Zmc2V0WSA9IG9mZnNldFkgKiBwcm9wb3J0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gW29mZnNldFgsIG9mZnNldFldO1xuICB9XG59XG4iLCJpbXBvcnQgT2JzZXJ2ZXIgZnJvbSAnLi9PYnNlcnZlcic7XG5pbXBvcnQgY29udGFpbmVyIGZyb20gXCIuLi9kZXBlbmRlbnRzXCI7XG5pbXBvcnQgTGF5ZXIgZnJvbSBcIi4uL0NvbXBvbmVudHMvTGF5ZXJcIjtcbmltcG9ydCBHcmFwaGljYWwgZnJvbSBcIi4uL0NvbXBvbmVudHMvR3JhcGhpY2FsXCI7XG5pbXBvcnQgTWF0ZXJpYWwgZnJvbSBcIi4uL0NvbXBvbmVudHMvTWF0ZXJpYWxcIjtcbmltcG9ydCBQdWJsaWNNYXAgZnJvbSAnLi9QdWJsaWNNYXAnO1xuXG5mdW5jdGlvbiBtYWtlUmFuZG9tKG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xuICBjb25zdCByYW5nZSA9IG1heCAtIG1pbjsgICBcbiAgY29uc3QgcmFuZCA9IE1hdGgucmFuZG9tKCk7ICAgXG4gIHJldHVybihtaW4gKyBNYXRoLnJvdW5kKHJhbmQgKiByYW5nZSkpOyAgXG59XG5cbmNvbnN0IGZvb2RDb2xvcnM6IEFycmF5PHN0cmluZz4gPSBbXG4gICcjRjA4MDgwJyxcbiAgJyNGNURFQjMnLFxuICAnIzk4RkI5OCcsXG4gICcjQUREOEU2JyxcbiAgJyM0MEUwRDAnLFxuICAnI0ZGQzBDQidcbl07XG5cbmNvbnN0IFRSRUVfU0laRSA9IDEwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9vZCBleHRlbmRzIE9ic2VydmVyIHtcblxuICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBsYXllcjogTGF5ZXI7XG5cbiAgcHJpdmF0ZSBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgcHJpdmF0ZSBncmFwaGljYWw6IEdyYXBoaWNhbDtcblxuICBwcml2YXRlIG1hcENhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG5cbiAgcHJpdmF0ZSBpbnRlcmZhY2VTaXplOiBudW1iZXJbXTtcblxuICBwcml2YXRlIGZvb2ROdW1iZXI6IG51bWJlciA9IFB1YmxpY01hcC5tYXBTaXplIC8gMTA7XG5cbiAgcHJpdmF0ZSBmb29kczogQXJyYXk8YW55PiA9IFtdO1xuXG4gIHByaXZhdGUgYW5pbWF0ZXM6IEFycmF5PGFueT4gPSBbXTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmxheWVyID0gY29udGFpbmVyLmdldDxMYXllcj4oJ0xheWVyJyk7XG4gICAgdGhpcy5jYW52YXMgPSB0aGlzLmxheWVyLnB1c2goKTtcbiAgICBjb25zdCBtYXRlcmlhbCA9IGNvbnRhaW5lci5nZXQ8TWF0ZXJpYWw+KCdNYXRlcmlhbCcpO1xuICAgIHRoaXMubWFwQ2FudmFzID0gbWF0ZXJpYWwuZ2V0TWFwKFB1YmxpY01hcC5tYXBTaXplLCBmYWxzZSk7XG4gICAgdGhpcy5ncmFwaGljYWwgPSBjb250YWluZXIubWFrZTxHcmFwaGljYWw+KCdHcmFwaGljYWwnLCB0aGlzLm1hcENhbnZhcyk7XG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLmludGVyZmFjZVNpemUgPSBjb250YWluZXIuZ2V0KCdpbnRlcmZhY2VTaXplJyk7XG5cbiAgICB0aGlzLnNldFN0YXRlcyh7XG4gICAgICB4OiAwLCB5OiAwLFxuICAgICAgc254OiAwLCBzbnk6IDBcbiAgICB9KTtcblxuICAgIHRoaXMuYnVpbGRUcmVlKCk7XG4gICAgdGhpcy5yYW5kb21Gb29kKCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKHRpbWVzdGFtcDogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gcGFzc1xuICAgIGNvbnN0IHsgc254LCBzbnkgfSA9IHRoaXMuZ2V0U3RhdGVzKCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5hbmltYXRlcykge1xuICAgICAgY29uc3QgWyB4LCB5LCBjb2xvciBdID0gdGhpcy5hbmltYXRlc1trZXldO1xuICAgICAgdGhpcy5ncmFwaGljYWwuY2xlYXJSZWN0KHggLSAxMCwgeSAtIDEwLCAxNiwgMTYpO1xuICAgICAgY29uc3QgZHkgPSBzbnkgLSB5O1xuICAgICAgY29uc3QgZHggPSBzbnggLSB4O1xuICAgICAgY29uc3QgbmV4dFggPSBNYXRoLmFicyhkeCAvIGR5KSAqIChkeCA8IDAgPyAtMSA6IDEpICsgeDtcbiAgICAgIGNvbnN0IG5leHRZID0gKGR5IDwgMCA/IC0xIDogMSkgKyB5O1xuICAgICAgdGhpcy5hbmltYXRlc1trZXldID0gW25leHRYLCBuZXh0WSwgY29sb3JdO1xuICAgICAgaWYgKE1hdGguc3FydChNYXRoLnBvdyhkeCwgMikgKyBNYXRoLnBvdyhkeSwgMikpIDw9IDEwKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmFuaW1hdGVzW2tleV07XG4gICAgICAgIHRoaXMubWFrZUZvb2QoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVuZGVyKCkge1xuICAgIGNvbnN0IFsgd2lkdGgsIGhlaWdodCBdID0gdGhpcy5pbnRlcmZhY2VTaXplO1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5nZXRTdGF0ZXMoKTtcbiAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5hbmltYXRlcykge1xuICAgICAgY29uc3QgWyB4LCB5LCBjb2xvciBdID0gdGhpcy5hbmltYXRlc1trZXldO1xuICAgICAgdGhpcy5ncmFwaGljYWwuZm9vZCh4LCB5LCBjb2xvcilcbiAgICB9XG4gICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZSh0aGlzLm1hcENhbnZhcywgeCwgeSwgd2lkdGgsIGhlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIH1cblxuICBwdWJsaWMgb25Qb3NpdGlvbkNoYW5nZSh4OiBudW1iZXIsIHk6IG51bWJlciwgc2l6ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBESVNUID0gMTA7XG4gICAgY29uc3QgbnVtID0gUHVibGljTWFwLm1hcFNpemUgLyBUUkVFX1NJWkUgLSAxO1xuICAgIGNvbnN0IGtleSA9IE1hdGguZmxvb3IoeCAvIFRSRUVfU0laRSkgKiBUUkVFX1NJWkU7XG4gICAgY29uc3Qga2V5cyA9IFtrZXldO1xuICAgIGxldCBzY29yZXM6IG51bWJlciA9IDA7XG4gICAgaWYgKHggLSBrZXkgPCBESVNUICYmIGtleSA+IDApIHtcbiAgICAgIGtleXMucHVzaChrZXkgLSAxKTtcbiAgICB9XG4gICAgaWYgKGtleSA8IG51bSAmJiAoeCArIHNpemUgKyAxMCkgPiBrZXkgKyAxKSB7XG4gICAgICBrZXlzLnB1c2goa2V5ICsgMSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICAgIGNvbnN0IF9mID0gdGhpcy5mb29kc1trZXldO1xuICAgICAgZm9yIChjb25zdCBma2V5IGluIF9mKSB7XG4gICAgICAgIGNvbnN0IFsgZngsIGZ5LCBjb2xvciBdID0gX2ZbZmtleV07XG4gICAgICAgIGNvbnN0IHIgPSBzaXplIC8gMjtcbiAgICAgICAgaWYgKHRoaXMuY29sbGlzaW9uQ2hlY2soeCArIHIsIHkgKyByLCByLCBmeCwgZnksIDQpKSB7XG4gICAgICAgICAgc2NvcmVzKys7XG4gICAgICAgICAgdGhpcy5hbmltYXRlcy5wdXNoKFtmeCwgZnksIGNvbG9yXSk7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuZm9vZHNba2V5XVtma2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlcyh7c254OiB4LCBzbnk6IHl9KTtcbiAgICByZXR1cm4gc2NvcmVzO1xuICB9XG5cbiAgcHJpdmF0ZSBjb2xsaXNpb25DaGVjayhcbiAgICB4MTogbnVtYmVyLFxuICAgIHkxOiBudW1iZXIsXG4gICAgcjE6IG51bWJlcixcbiAgICB4MjogbnVtYmVyLFxuICAgIHkyOiBudW1iZXIsXG4gICAgcjI6IG51bWJlclxuICApIHtcbiAgICBjb25zdCBkaXN0ID0gTWF0aC5zcXJ0KFxuICAgICAgTWF0aC5wb3coeDEgLSB4MiwgMikgK1xuICAgICAgTWF0aC5wb3coeTEgLSB5MiwgMilcbiAgICApO1xuICAgIHJldHVybiBCb29sZWFuKChyMSArIHIyKSArIDQwID49IGRpc3QpO1xuICB9XG5cbiAgcHJpdmF0ZSBidWlsZFRyZWUoKTogdm9pZCB7XG4gICAgY29uc3QgbnVtID0gUHVibGljTWFwLm1hcFNpemUgLyBUUkVFX1NJWkU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykge1xuICAgICAgdGhpcy5mb29kc1tpICogVFJFRV9TSVpFXSA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmFuZG9tRm9vZCgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZm9vZE51bWJlcjsgaSsrKSB7XG4gICAgICB0aGlzLm1ha2VGb29kKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtYWtlRm9vZCgpIHtcbiAgICBjb25zdCB4ID0gbWFrZVJhbmRvbSg0LCBQdWJsaWNNYXAubWFwU2l6ZSAtIDQpO1xuICAgIGNvbnN0IHkgPSBtYWtlUmFuZG9tKDQsIFB1YmxpY01hcC5tYXBTaXplIC0gNCk7XG4gICAgY29uc3QgY29sb3IgPSBtYWtlUmFuZG9tKDAsIGZvb2RDb2xvcnMubGVuZ3RoIC0gMSk7XG4gICAgdGhpcy5ncmFwaGljYWwuZm9vZCh4LCB5LCBmb29kQ29sb3JzW2NvbG9yXSk7XG4gICAgY29uc3Qga2V5ID0gTWF0aC5mbG9vcih4IC8gVFJFRV9TSVpFKSAqIFRSRUVfU0laRTtcbiAgICB0aGlzLmZvb2RzW2tleV0ucHVzaChbeCwgeSwgZm9vZENvbG9yc1tjb2xvcl1dKTtcbiAgfVxuXG4gIHB1YmxpYyB0ZXJtaW5hdGUoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMubGF5ZXIuZ2V0RWxlbWVudCgpO1xuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICB9IFxufVxuIiwiaW1wb3J0ICcuLi9zdHlsZS5zY3NzJztcbmltcG9ydCBjb250YWluZXIgZnJvbSBcIi4vZGVwZW5kZW50c1wiO1xuaW1wb3J0IEFjdGlvbkludGVyZmFjZSBmcm9tIFwiLi9JbnRlcmZhY2VzL0FjdGlvbkludGVyZmFjZVwiO1xuaW1wb3J0IFN1YmplY3RJbnRlcmZhY2UgZnJvbSAnLi9JbnRlcmZhY2VzL1N1YmplY3RJbnRlcmZhY2UnO1xuaW1wb3J0IFNuYWtlIGZyb20gJy4vT2JzZXJ2ZXJzL1NuYWtlJztcbmltcG9ydCBDb250cm9sIGZyb20gJy4vQ29tcG9uZW50cy9Db250cm8nO1xuaW1wb3J0IFB1YmxpY01hcCBmcm9tICcuL09ic2VydmVycy9QdWJsaWNNYXAnO1xuaW1wb3J0IEZvb2QgZnJvbSAnLi9PYnNlcnZlcnMvRm9vZCc7XG5cbmNvbnN0IGVsZW1lbnRSb2NrZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9ja2VyJyk7XG5jb25zdCBlbGVtZW50U3BlZWRVcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVlZC11cCcpO1xuY29uc3QgZWxlbWVudFN0YXJ0R2FtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydC1nYW1lJyk7XG5jb25zdCBlbGVtZW50V2VsY29tZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWxjb21lJyk7XG5cbmNvbnN0IGVsZW1lbnRHYW1lT3ZlckNmbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLW92ZXItY29uZmlybScpO1xuY29uc3QgZWxlbWVudEdhbWVvdmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhbWVvdmVyJyk7XG5cbmNvbnN0IGFjdGlvbiA9IGNvbnRhaW5lci5nZXQ8QWN0aW9uSW50ZXJmYWNlPignYWN0aW9uJyk7XG5jb25zdCBzdWJqZWN0ID0gY29udGFpbmVyLmdldDxTdWJqZWN0SW50ZXJmYWNlPignc3ViamVjdCcpO1xuXG5hY3Rpb24ub25TdG9wKGZ1bmN0aW9uKCkge1xuICBlbGVtZW50R2FtZW92ZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59KTtcblxuZWxlbWVudFN0YXJ0R2FtZS5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgZWxlbWVudFdlbGNvbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICBjb25zdCBmb29kID0gbmV3IEZvb2QoKTtcbiAgc3ViamVjdC5yZWdpc3Rlcihmb29kKTtcblxuICBjb25zdCBwdWJsaWNNYXAgPSBuZXcgUHVibGljTWFwKGZvb2QpO1xuICBzdWJqZWN0LnJlZ2lzdGVyKHB1YmxpY01hcCk7XG5cbiAgY29uc3Qgc25ha2UgPSBuZXcgU25ha2UocHVibGljTWFwLCBmb29kKTtcbiAgc3ViamVjdC5yZWdpc3RlcihzbmFrZSk7XG5cbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBDb250cm9sKGVsZW1lbnRSb2NrZXIsIGVsZW1lbnRTcGVlZFVwLCBzbmFrZSk7XG5cbiAgYWN0aW9uLnN0YXJ0KCk7XG59O1xuXG5lbGVtZW50R2FtZU92ZXJDZm0ub25jbGljayA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIGVsZW1lbnRHYW1lb3Zlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICBlbGVtZW50V2VsY29tZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9